import{_ as gt,v as yt}from"./DA0YG3TV.js";import{T as Ct,b as Ue,E as Ae,u as Nt}from"./CrQRpmZ7.js";import{s as T,v as B,o as k,z as Z,w as D,A as H,bh as Fe,bw as bt,n as I,aB as Qe,F as J,G as Ne,a2 as kt,x as M,c as z,B as K,C as be,a9 as ue,aM as R,b6 as me,b9 as fe,b8 as Et,q as Te,aE as le,J as ne,r as x,aO as _t,a$ as Mt,W as $e,f as U,y as ae,m as ke,g as Xe,ab as P,U as de,ak as De,aa as ve,aA as xe,a0 as Ee,k as _e,bx as Ve,H as Se,I as wt,by as xt,e as St,$ as It,L as et,ac as Ge,a1 as Pe,az as Tt,aQ as se,a as te,d as ye,t as Ce,bz as $t,aF as tt,a5 as Dt,D as nt,a7 as ie,b as L,b0 as Le,bA as Kt,ba as Bt,bB as Ot,aD as re,ad as ot,Y as At,bd as Ye,Z as Pt,ay as Lt,u as zt,p as Ht,_ as qe,M as Ft}from"./Djh_mYXA.js";import{c as Re,C as qt,u as Ze,d as Rt,s as jt}from"./8iQtqznr.js";import{a as Wt}from"./D51JPPaq.js";import{t as Ie}from"./BAET0TdL.js";import{f as Ut}from"./dNWHRcbo.js";import{u as st}from"./DdeZJquS.js";import{u as Vt}from"./BqvSvEKS.js";import"./sxMpOXgJ.js";const we=function(e,t,...n){let s;t.includes("mouse")||t.includes("click")?s="MouseEvents":t.includes("key")?s="KeyboardEvent":s="HTMLEvents";const o=document.createEvent(s);return o.initEvent(t,...n),e.dispatchEvent(o),e},Gt=T({name:"ElCollapseTransition"}),Yt=T({...Gt,setup(e){const t=B("collapse-transition"),n=o=>{o.style.maxHeight="",o.style.overflow=o.dataset.oldOverflow,o.style.paddingTop=o.dataset.oldPaddingTop,o.style.paddingBottom=o.dataset.oldPaddingBottom},s={beforeEnter(o){o.dataset||(o.dataset={}),o.dataset.oldPaddingTop=o.style.paddingTop,o.dataset.oldPaddingBottom=o.style.paddingBottom,o.style.height&&(o.dataset.elExistsHeight=o.style.height),o.style.maxHeight=0,o.style.paddingTop=0,o.style.paddingBottom=0},enter(o){requestAnimationFrame(()=>{o.dataset.oldOverflow=o.style.overflow,o.dataset.elExistsHeight?o.style.maxHeight=o.dataset.elExistsHeight:o.scrollHeight!==0?o.style.maxHeight=`${o.scrollHeight}px`:o.style.maxHeight=0,o.style.paddingTop=o.dataset.oldPaddingTop,o.style.paddingBottom=o.dataset.oldPaddingBottom,o.style.overflow="hidden"})},afterEnter(o){o.style.maxHeight="",o.style.overflow=o.dataset.oldOverflow},enterCancelled(o){n(o)},beforeLeave(o){o.dataset||(o.dataset={}),o.dataset.oldPaddingTop=o.style.paddingTop,o.dataset.oldPaddingBottom=o.style.paddingBottom,o.dataset.oldOverflow=o.style.overflow,o.style.maxHeight=`${o.scrollHeight}px`,o.style.overflow="hidden"},leave(o){o.scrollHeight!==0&&(o.style.maxHeight=0,o.style.paddingTop=0,o.style.paddingBottom=0)},afterLeave(o){n(o)},leaveCancelled(o){n(o)}};return(o,a)=>(k(),Z(Qe,Fe({name:I(t).b()},bt(s)),{default:D(()=>[H(o.$slots,"default")]),_:3},16,["name"]))}});var Zt=J(Yt,[["__file","collapse-transition.vue"]]);const at=Ne(Zt),Jt=T({name:"ElContainer"}),Qt=T({...Jt,props:{direction:{type:String}},setup(e){const t=e,n=kt(),s=B("container"),o=M(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:n&&n.default?n.default().some(r=>{const c=r.type.name;return c==="ElHeader"||c==="ElFooter"}):!1);return(a,r)=>(k(),z("section",{class:K([I(s).b(),I(s).is("vertical",I(o))])},[H(a.$slots,"default")],2))}});var Xt=J(Qt,[["__file","container.vue"]]);const en=T({name:"ElAside"}),tn=T({...en,props:{width:{type:String,default:null}},setup(e){const t=e,n=B("aside"),s=M(()=>t.width?n.cssVarBlock({width:t.width}):{});return(o,a)=>(k(),z("aside",{class:K(I(n).b()),style:be(I(s))},[H(o.$slots,"default")],6))}});var rt=J(tn,[["__file","aside.vue"]]);const nn=T({name:"ElFooter"}),on=T({...nn,props:{height:{type:String,default:null}},setup(e){const t=e,n=B("footer"),s=M(()=>t.height?n.cssVarBlock({height:t.height}):{});return(o,a)=>(k(),z("footer",{class:K(I(n).b()),style:be(I(s))},[H(o.$slots,"default")],6))}});var lt=J(on,[["__file","footer.vue"]]);const sn=T({name:"ElHeader"}),an=T({...sn,props:{height:{type:String,default:null}},setup(e){const t=e,n=B("header"),s=M(()=>t.height?n.cssVarBlock({height:t.height}):{});return(o,a)=>(k(),z("header",{class:K(I(n).b()),style:be(I(s))},[H(o.$slots,"default")],6))}});var it=J(an,[["__file","header.vue"]]);const rn=T({name:"ElMain"}),ln=T({...rn,setup(e){const t=B("main");return(n,s)=>(k(),z("main",{class:K(I(t).b())},[H(n.$slots,"default")],2))}});var dt=J(ln,[["__file","main.vue"]]);const dn=Ne(Xt,{Aside:rt,Footer:lt,Header:it,Main:dt}),cn=ue(rt),un=ue(lt),hn=ue(it),fn=ue(dt);let pn=class{constructor(t,n){this.parent=t,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",s=>{let o=!1;switch(s.code){case R.down:{this.gotoSubIndex(this.subIndex+1),o=!0;break}case R.up:{this.gotoSubIndex(this.subIndex-1),o=!0;break}case R.tab:{we(t,"mouseleave");break}case R.enter:case R.space:{o=!0,s.currentTarget.click();break}}return o&&(s.preventDefault(),s.stopPropagation()),!1})})}},vn=class{constructor(t,n){this.domNode=t,this.submenu=null,this.submenu=null,this.init(n)}init(t){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${t}-menu`);n&&(this.submenu=new pn(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{let n=!1;switch(t.code){case R.down:{we(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case R.up:{we(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case R.tab:{we(t.currentTarget,"mouseleave");break}case R.enter:case R.space:{n=!0,t.currentTarget.click();break}}n&&t.preventDefault()})}},mn=class{constructor(t,n){this.domNode=t,this.init(n)}init(t){const n=this.domNode.childNodes;Array.from(n).forEach(s=>{s.nodeType===1&&new vn(s,t)})}};const gn=T({name:"ElMenuCollapseTransition",setup(){const e=B("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,s){me(n,`${e.namespace.value}-opacity-transition`),n.style.opacity="1",s()},onAfterEnter(n){fe(n,`${e.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),Et(n,e.m("collapse"))?(fe(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),me(n,e.m("collapse"))):(me(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),fe(n,e.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){me(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function yn(e,t,n,s,o,a){return k(),Z(Qe,Fe({mode:"out-in"},e.listeners),{default:D(()=>[H(e.$slots,"default")]),_:3},16)}var Cn=J(gn,[["render",yn],["__file","menu-collapse-transition.vue"]]);function ct(e,t){const n=M(()=>{let o=e.parent;const a=[t.value];for(;o.type.name!=="ElMenu";)o.props.index&&a.unshift(o.props.index),o=o.parent;return a});return{parentMenu:M(()=>{let o=e.parent;for(;o&&!["ElMenu","ElSubMenu"].includes(o.type.name);)o=o.parent;return o}),indexPath:n}}function Nn(e){return M(()=>{const n=e.backgroundColor;return n?new Ct(n).shade(20).toString():""})}const ut=(e,t)=>{const n=B("menu");return M(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":Nn(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},bn=Te({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:le},expandOpenIcon:{type:le},collapseCloseIcon:{type:le},collapseOpenIcon:{type:le}}),Ke="ElSubMenu";var je=T({name:Ke,props:bn,setup(e,{slots:t,expose:n}){const s=_e(),{indexPath:o,parentMenu:a}=ct(s,M(()=>e.index)),r=B("menu"),c=B("sub-menu"),l=ne("rootMenu");l||Ie(Ke,"can not inject root menu");const f=ne(`subMenu:${a.value.uid}`);f||Ie(Ke,"can not inject sub menu");const d=x({}),h=x({});let i;const g=x(!1),N=x(),w=x(null),_=M(()=>G.value==="horizontal"&&j.value?"bottom-start":"right-start"),A=M(()=>G.value==="horizontal"&&j.value||G.value==="vertical"&&!l.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?W.value?e.expandOpenIcon:e.expandCloseIcon:_t:e.collapseCloseIcon&&e.collapseOpenIcon?W.value?e.collapseOpenIcon:e.collapseCloseIcon:Mt),j=M(()=>f.level===0),V=M(()=>{const m=e.teleported;return m===void 0?j.value:m}),X=M(()=>l.props.collapse?`${r.namespace.value}-zoom-in-left`:`${r.namespace.value}-zoom-in-top`),F=M(()=>G.value==="horizontal"&&j.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),W=M(()=>l.openedMenus.includes(e.index)),Q=M(()=>{let m=!1;return Object.values(d.value).forEach(E=>{E.active&&(m=!0)}),Object.values(h.value).forEach(E=>{E.active&&(m=!0)}),m}),G=M(()=>l.props.mode),v=$e({index:e.index,indexPath:o,active:Q}),S=ut(l.props,f.level+1),$=M(()=>{var m;return(m=e.popperOffset)!=null?m:l.props.popperOffset}),ee=M(()=>{var m;return(m=e.popperClass)!=null?m:l.props.popperClass}),he=M(()=>{var m;return(m=e.showTimeout)!=null?m:l.props.showTimeout}),p=M(()=>{var m;return(m=e.hideTimeout)!=null?m:l.props.hideTimeout}),y=()=>{var m,E,q;return(q=(E=(m=w.value)==null?void 0:m.popperRef)==null?void 0:E.popperInstanceRef)==null?void 0:q.destroy()},b=m=>{m||y()},O=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||e.disabled||l.handleSubMenuClick({index:e.index,indexPath:o.value,active:Q.value})},u=(m,E=he.value)=>{var q;if(m.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||e.disabled){f.mouseInChild.value=!0;return}f.mouseInChild.value=!0,i==null||i(),{stop:i}=Ve(()=>{l.openMenu(e.index,o.value)},E),V.value&&((q=a.value.vnode.el)==null||q.dispatchEvent(new MouseEvent("mouseenter")))}},C=(m=!1)=>{var E;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){f.mouseInChild.value=!1;return}i==null||i(),f.mouseInChild.value=!1,{stop:i}=Ve(()=>!g.value&&l.closeMenu(e.index,o.value),p.value),V.value&&m&&((E=f.handleMouseleave)==null||E.call(f,!0))};U(()=>l.props.collapse,m=>b(!!m));{const m=q=>{h.value[q.index]=q},E=q=>{delete h.value[q.index]};ae(`subMenu:${s.uid}`,{addSubMenu:m,removeSubMenu:E,handleMouseleave:C,mouseInChild:g,level:f.level+1})}return n({opened:W}),ke(()=>{l.addSubMenu(v),f.addSubMenu(v)}),Xe(()=>{f.removeSubMenu(v),l.removeSubMenu(v)}),()=>{var m;const E=[(m=t.title)==null?void 0:m.call(t),P(De,{class:c.e("icon-arrow"),style:{transform:W.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>de(A.value)?P(s.appContext.components[A.value]):P(A.value)})],q=l.isMenuPopup?P(Re,{ref:w,visible:W.value,effect:"light",pure:!0,offset:$.value,showArrow:!1,persistent:!0,popperClass:ee.value,placement:_.value,teleported:V.value,fallbackPlacements:F.value,transition:X.value,gpuAcceleration:!1},{content:()=>{var Y;return P("div",{class:[r.m(G.value),r.m("popup-container"),ee.value],onMouseenter:oe=>u(oe,100),onMouseleave:()=>C(!0),onFocus:oe=>u(oe,100)},[P("ul",{class:[r.b(),r.m("popup"),r.m(`popup-${_.value}`)],style:S.value},[(Y=t.default)==null?void 0:Y.call(t)])])},default:()=>P("div",{class:c.e("title"),onClick:O},E)}):P(Ee,{},[P("div",{class:c.e("title"),ref:N,onClick:O},E),P(at,{},{default:()=>{var Y;return ve(P("ul",{role:"menu",class:[r.b(),r.m("inline")],style:S.value},[(Y=t.default)==null?void 0:Y.call(t)]),[[xe,W.value]])}})]);return P("li",{class:[c.b(),c.is("active",Q.value),c.is("opened",W.value),c.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:W.value,onMouseenter:u,onMouseleave:()=>C(),onFocus:u},[q])}}});const kn=Te({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Se(Array),default:()=>wt([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:le,default:()=>xt},popperEffect:{type:Se(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),Be=e=>Array.isArray(e)&&e.every(t=>de(t)),En={close:(e,t)=>de(e)&&Be(t),open:(e,t)=>de(e)&&Be(t),select:(e,t,n,s)=>de(e)&&Be(t)&&et(n)&&(s===void 0||s instanceof Promise)};var _n=T({name:"ElMenu",props:kn,emits:En,setup(e,{emit:t,slots:n,expose:s}){const o=_e(),a=o.appContext.config.globalProperties.$router,r=x(),c=B("menu"),l=B("sub-menu"),f=x(-1),d=x(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),h=x(e.defaultActive),i=x({}),g=x({}),N=M(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),w=()=>{const p=h.value&&i.value[h.value];if(!p||e.mode==="horizontal"||e.collapse)return;p.indexPath.forEach(b=>{const O=g.value[b];O&&_(b,O.indexPath)})},_=(p,y)=>{d.value.includes(p)||(e.uniqueOpened&&(d.value=d.value.filter(b=>y.includes(b))),d.value.push(p),t("open",p,y))},A=p=>{const y=d.value.indexOf(p);y!==-1&&d.value.splice(y,1)},j=(p,y)=>{A(p),t("close",p,y)},V=({index:p,indexPath:y})=>{d.value.includes(p)?j(p,y):_(p,y)},X=p=>{(e.mode==="horizontal"||e.collapse)&&(d.value=[]);const{index:y,indexPath:b}=p;if(!(Ge(y)||Ge(b)))if(e.router&&a){const O=p.route||y,u=a.push(O).then(C=>(C||(h.value=y),C));t("select",y,b,{index:y,indexPath:b,route:O},u)}else h.value=y,t("select",y,b,{index:y,indexPath:b})},F=p=>{const y=i.value,b=y[p]||h.value&&y[h.value]||y[e.defaultActive];b?h.value=b.index:h.value=p},W=p=>{const y=getComputedStyle(p),b=Number.parseInt(y.marginLeft,10),O=Number.parseInt(y.marginRight,10);return p.offsetWidth+b+O||0},Q=()=>{var p,y;if(!r.value)return-1;const b=Array.from((y=(p=r.value)==null?void 0:p.childNodes)!=null?y:[]).filter(oe=>oe.nodeName!=="#comment"&&(oe.nodeName!=="#text"||oe.nodeValue)),O=64,u=getComputedStyle(r.value),C=Number.parseInt(u.paddingLeft,10),m=Number.parseInt(u.paddingRight,10),E=r.value.clientWidth-C-m;let q=0,Y=0;return b.forEach((oe,mt)=>{q+=W(oe),q<=E-O&&(Y=mt+1)}),Y===b.length?-1:Y},G=p=>g.value[p].indexPath,v=(p,y=33.34)=>{let b;return()=>{b&&clearTimeout(b),b=setTimeout(()=>{p()},y)}};let S=!0;const $=()=>{if(f.value===Q())return;const p=()=>{f.value=-1,Pe(()=>{f.value=Q()})};S?p():v(p)(),S=!1};U(()=>e.defaultActive,p=>{i.value[p]||(h.value=""),F(p)}),U(()=>e.collapse,p=>{p&&(d.value=[])}),U(i.value,w);let ee;St(()=>{e.mode==="horizontal"&&e.ellipsis?ee=It(r,$).stop:ee==null||ee()});const he=x(!1);{const p=u=>{g.value[u.index]=u},y=u=>{delete g.value[u.index]};ae("rootMenu",$e({props:e,openedMenus:d,items:i,subMenus:g,activeIndex:h,isMenuPopup:N,addMenuItem:u=>{i.value[u.index]=u},removeMenuItem:u=>{delete i.value[u.index]},addSubMenu:p,removeSubMenu:y,openMenu:_,closeMenu:j,handleMenuItemClick:X,handleSubMenuClick:V})),ae(`subMenu:${o.uid}`,{addSubMenu:p,removeSubMenu:y,mouseInChild:he,level:0})}return ke(()=>{e.mode==="horizontal"&&new mn(o.vnode.el,c.namespace.value)}),s({open:y=>{const{indexPath:b}=g.value[y];b.forEach(O=>_(O,b))},close:A,handleResize:$}),()=>{var p,y;let b=(y=(p=n.default)==null?void 0:p.call(n))!=null?y:[];const O=[];if(e.mode==="horizontal"&&r.value){const E=Ut(b),q=f.value===-1?E:E.slice(0,f.value),Y=f.value===-1?[]:E.slice(f.value);Y!=null&&Y.length&&e.ellipsis&&(b=q,O.push(P(je,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>P(De,{class:l.e("icon-more")},{default:()=>P(e.ellipsisIcon)}),default:()=>Y})))}const u=ut(e,0),C=e.closeOnClickOutside?[[qt,()=>{d.value.length&&(he.value||(d.value.forEach(E=>t("close",E,G(E))),d.value=[]))}]]:[],m=ve(P("ul",{key:String(e.collapse),role:"menubar",ref:r,style:u.value,class:{[c.b()]:!0,[c.m(e.mode)]:!0,[c.m("collapse")]:e.collapse}},[...b,...O]),C);return e.collapseTransition&&e.mode==="vertical"?P(Cn,()=>m):m}}});const Mn=Te({index:{type:Se([String,null]),default:null},route:{type:Se([String,Object])},disabled:Boolean}),wn={click:e=>de(e.index)&&Array.isArray(e.indexPath)},Oe="ElMenuItem",xn=T({name:Oe,components:{ElTooltip:Re},props:Mn,emits:wn,setup(e,{emit:t}){const n=_e(),s=ne("rootMenu"),o=B("menu"),a=B("menu-item");s||Ie(Oe,"can not inject root menu");const{parentMenu:r,indexPath:c}=ct(n,Tt(e,"index")),l=ne(`subMenu:${r.value.uid}`);l||Ie(Oe,"can not inject sub menu");const f=M(()=>e.index===s.activeIndex),d=$e({index:e.index,indexPath:c,active:f}),h=()=>{e.disabled||(s.handleMenuItemClick({index:e.index,indexPath:c.value,route:e.route}),t("click",d))};return ke(()=>{l.addSubMenu(d),s.addMenuItem(d)}),Xe(()=>{l.removeSubMenu(d),s.removeMenuItem(d)}),{parentMenu:r,rootMenu:s,active:f,nsMenu:o,nsMenuItem:a,handleClick:h}}});function Sn(e,t,n,s,o,a){const r=se("el-tooltip");return k(),z("li",{class:K([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:e.handleClick},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(k(),Z(r,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:D(()=>[H(e.$slots,"title")]),default:D(()=>[te("div",{class:K(e.nsMenu.be("tooltip","trigger"))},[H(e.$slots,"default")],2)]),_:3},8,["effect"])):(k(),z(Ee,{key:1},[H(e.$slots,"default"),H(e.$slots,"title")],64))],10,["onClick"])}var ht=J(xn,[["render",Sn],["__file","menu-item.vue"]]);const In={title:String},Tn="ElMenuItemGroup",$n=T({name:Tn,props:In,setup(){return{ns:B("menu-item-group")}}});function Dn(e,t,n,s,o,a){return k(),z("li",{class:K(e.ns.b())},[te("div",{class:K(e.ns.e("title"))},[e.$slots.title?H(e.$slots,"title",{key:1}):(k(),z(Ee,{key:0},[ye(Ce(e.title),1)],64))],2),te("ul",null,[H(e.$slots,"default")])],2)}var ft=J($n,[["render",Dn],["__file","menu-item-group.vue"]]);const Kn=Ne(_n,{MenuItem:ht,MenuItemGroup:ft,SubMenu:je});ue(ht);ue(ft);ue(je);const Bn=Te({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:Ue,default:"primary"},cancelButtonType:{type:String,values:Ue,default:"text"},icon:{type:le,default:()=>$t},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Ze.teleported,persistent:Ze.persistent,width:{type:[String,Number],default:150}}),On={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},An=T({name:"ElPopconfirm"}),Pn=T({...An,props:Bn,emits:On,setup(e,{emit:t}){const n=e,{t:s}=tt(),o=B("popconfirm"),a=x(),r=()=>{var i,g;(g=(i=a.value)==null?void 0:i.onClose)==null||g.call(i)},c=M(()=>({width:Dt(n.width)})),l=i=>{t("confirm",i),r()},f=i=>{t("cancel",i),r()},d=M(()=>n.confirmButtonText||s("el.popconfirm.confirmButtonText")),h=M(()=>n.cancelButtonText||s("el.popconfirm.cancelButtonText"));return(i,g)=>(k(),Z(I(Re),Fe({ref_key:"tooltipRef",ref:a,trigger:"click",effect:"light"},i.$attrs,{"popper-class":`${I(o).namespace.value}-popover`,"popper-style":I(c),teleported:i.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":i.hideAfter,persistent:i.persistent}),{content:D(()=>[te("div",{class:K(I(o).b())},[te("div",{class:K(I(o).e("main"))},[!i.hideIcon&&i.icon?(k(),Z(I(De),{key:0,class:K(I(o).e("icon")),style:be({color:i.iconColor})},{default:D(()=>[(k(),Z(nt(i.icon)))]),_:1},8,["class","style"])):ie("v-if",!0),ye(" "+Ce(i.title),1)],2),te("div",{class:K(I(o).e("action"))},[H(i.$slots,"actions",{confirm:l,cancel:f},()=>[L(I(Ae),{size:"small",type:i.cancelButtonType==="text"?"":i.cancelButtonType,text:i.cancelButtonType==="text",onClick:f},{default:D(()=>[ye(Ce(I(h)),1)]),_:1},8,["type","text"]),L(I(Ae),{size:"small",type:i.confirmButtonType==="text"?"":i.confirmButtonType,text:i.confirmButtonType==="text",onClick:l},{default:D(()=>[ye(Ce(I(d)),1)]),_:1},8,["type","text"])])],2)],2)]),default:D(()=>[i.$slots.reference?H(i.$slots,"reference",{key:0}):ie("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Ln=J(Pn,[["__file","popconfirm.vue"]]);const zn=Ne(Ln),pe="$treeNodeId",Je=function(e,t){!t||t[pe]||Object.defineProperty(t,pe,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},We=function(e,t){return e?t[e]:t[pe]},ze=(e,t,n)=>{const s=e.value.currentNode;n();const o=e.value.currentNode;s!==o&&t("current-change",o?o.data:null,o)},He=e=>{let t=!0,n=!0,s=!0;for(let o=0,a=e.length;o<a;o++){const r=e[o];(r.checked!==!0||r.indeterminate)&&(t=!1,r.disabled||(s=!1)),(r.checked!==!1||r.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:s,half:!t&&!n}},ge=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:n,half:s}=He(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):s?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;!o||o.level===0||e.store.checkStrictly||ge(o)},Me=function(e,t){const n=e.store.props,s=e.data||{},o=n[t];if(typeof o=="function")return o(s,e);if(typeof o=="string")return s[o];if(typeof o>"u"){const a=s[t];return a===void 0?"":a}};let Hn=0;class ce{constructor(t){this.id=Hn++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)Le(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const n=t.props;if(n&&typeof n.isLeaf<"u"){const a=Me(this,"isLeaf");typeof a=="boolean"&&(this.isLeafByUser=a)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Array.isArray(this.data)||Je(this,this.data),!this.data)return;const s=t.defaultExpandedKeys,o=t.key;o&&s&&s.includes(this.key)&&this.expand(null,t.autoExpandParent),o&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||Je(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=Me(this,"children")||[];for(let s=0,o=n.length;s<o;s++)this.insertChild({data:n[s]})}get label(){return Me(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return Me(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(s=>s===t||n&&s.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,s){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof ce)){if(!s){const o=this.getChildren(!0);o.includes(t.data)||(typeof n>"u"||n<0?o.push(t.data):o.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=$e(new ce(t)),t instanceof ce&&t.initialize()}t.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let s;n&&(s=this.childNodes.indexOf(n)),this.insertChild(t,s)}insertAfter(t,n){let s;n&&(s=this.childNodes.indexOf(n),s!==-1&&(s+=1)),this.insertChild(t,s)}removeChild(t){const n=this.getChildren()||[],s=n.indexOf(t.data);s>-1&&n.splice(s,1);const o=this.childNodes.indexOf(t);o>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(t){let n=null;for(let s=0;s<this.childNodes.length;s++)if(this.childNodes[s].data===t){n=this.childNodes[s];break}n&&this.removeChild(n)}expand(t,n){const s=()=>{if(n){let o=this.parent;for(;o.level>0;)o.expanded=!0,o=o.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(o=>{o.canFocus=!0})};this.shouldLoadData()?this.loadData(o=>{Array.isArray(o)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||ge(this),s())}):s()}doCreateChildren(t,n={}){t.forEach(s=>{this.insertChild(Object.assign({data:s},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,n,s,o){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:r,allWithoutDisable:c}=He(this.childNodes);!this.isLeaf&&!r&&c&&(this.checked=!1,t=!1);const l=()=>{if(n){const f=this.childNodes;for(let i=0,g=f.length;i<g;i++){const N=f[i];o=o||t!==!1;const w=N.disabled?N.checked:o;N.setChecked(w,n,!0,o)}const{half:d,all:h}=He(f);h||(this.checked=h,this.indeterminate=d)}};if(this.shouldLoadData()){this.loadData(()=>{l(),ge(this)},{checked:t!==!1});return}else l()}const a=this.parent;!a||a.level===0||s||ge(a)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const s=this.store.props;let o="children";return s&&(o=s.children||"children"),n[o]===void 0&&(n[o]=null),t&&!n[o]&&(n[o]=[]),n[o]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(a=>a.data),s={},o=[];t.forEach((a,r)=>{const c=a[pe];!!c&&n.findIndex(f=>f[pe]===c)>=0?s[c]={index:r,data:a}:o.push({index:r,data:a})}),this.store.lazy||n.forEach(a=>{s[a[pe]]||this.removeChildByData(a)}),o.forEach(({index:a,data:r})=>{this.insertChild({data:r},a)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const s=a=>{this.childNodes=[],this.doCreateChildren(a,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,a)},o=()=>{this.loading=!1};this.store.load(this,s,o)}else t&&t.call(this)}eachNode(t){const n=[this];for(;n.length;){const s=n.shift();n.unshift(...s.childNodes),t(s)}}reInitChecked(){this.store.checkStrictly||ge(this)}}class Fn{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const n in t)Le(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new ce({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,s=this.lazy,o=function(a){const r=a.root?a.root.childNodes:a.childNodes;if(r.forEach(c=>{c.visible=n.call(c,t,c.data,c),o(c)}),!a.visible&&r.length){let c=!0;c=!r.some(l=>l.visible),a.root?a.root.visible=c===!1:a.visible=c===!1}t&&a.visible&&!a.isLeaf&&(!s||a.loaded)&&a.expand()};o(this)}setData(t){t!==this.root.data?(this.nodesMap={},this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof ce)return t;const n=et(t)?We(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){const s=this.getNode(n);s.parent.insertBefore({data:t},s)}insertAfter(t,n){const s=this.getNode(n);s.parent.insertAfter({data:t},s)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const s=Kt(n)?this.root:this.getNode(n);s&&s.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(s=>{const o=n[s];o&&o.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;!t||!t.data||(n?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(s=>{this.deregisterNode(s)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const s=[],o=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(c=>{(c.checked||n&&c.indeterminate)&&(!t||t&&c.isLeaf)&&s.push(c.data),o(c)})};return o(this),s}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(a=>{a.indeterminate&&t.push(a.data),n(a)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const s in n)Le(n,s)&&t.push(n[s]);return t}updateChildren(t,n){const s=this.nodesMap[t];if(!s)return;const o=s.childNodes;for(let a=o.length-1;a>=0;a--){const r=o[a];this.remove(r.data)}for(let a=0,r=n.length;a<r;a++){const c=n[a];this.append(c,s.data)}}_setCheckedKeys(t,n=!1,s){const o=this._getAllNodes().sort((l,f)=>l.level-f.level),a=Object.create(null),r=Object.keys(s);o.forEach(l=>l.setChecked(!1,!1));const c=l=>{l.childNodes.forEach(f=>{var d;a[f.data[t]]=!0,(d=f.childNodes)!=null&&d.length&&c(f)})};for(let l=0,f=o.length;l<f;l++){const d=o[l],h=d.data[t].toString();if(!r.includes(h)){d.checked&&!a[h]&&d.setChecked(!1,!1);continue}if(d.childNodes.length&&c(d),d.isLeaf||this.checkStrictly){d.setChecked(!0,!1);continue}if(d.setChecked(!0,!0),n){d.setChecked(!1,!1);const g=function(N){N.childNodes.forEach(_=>{_.isLeaf||_.setChecked(!1,!1),g(_)})};g(d)}}}setCheckedNodes(t,n=!1){const s=this.key,o={};t.forEach(a=>{o[(a||{})[s]]=!0}),this._setCheckedKeys(s,n,o)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const s=this.key,o={};t.forEach(a=>{o[a]=!0}),this._setCheckedKeys(s,n,o)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const s=this.getNode(n);s&&s.expand(null,this.autoExpandParent)})}setChecked(t,n,s){const o=this.getNode(t);o&&o.setChecked(!!n,s)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){const s=t[this.key],o=this.nodesMap[s];this.setCurrentNode(o),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,n=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const s=this.getNode(t);s&&(this.setCurrentNode(s),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const qn=T({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=B("tree"),n=ne("NodeInstance"),s=ne("RootTree");return()=>{const o=e.node,{data:a,store:r}=o;return e.renderContent?e.renderContent(P,{_self:n,node:o,data:a,store:r}):H(s.ctx.slots,"default",{node:o,data:a},()=>[P("span",{class:t.be("node","label")},[o.label])])}}});var Rn=J(qn,[["__file","tree-node-content.vue"]]);function pt(e){const t=ne("TreeNodeMap",null),n={treeNodeExpand:s=>{e.node!==s&&e.node.collapse()},children:[]};return t&&t.children.push(n),ae("TreeNodeMap",n),{broadcastExpanded:s=>{if(e.accordion)for(const o of n.children)o.treeNodeExpand(s)}}}const vt=Symbol("dragEvents");function jn({props:e,ctx:t,el$:n,dropIndicator$:s,store:o}){const a=B("tree"),r=x({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ae(vt,{treeNodeDragStart:({event:d,treeNode:h})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(h.node))return d.preventDefault(),!1;d.dataTransfer.effectAllowed="move";try{d.dataTransfer.setData("text/plain","")}catch{}r.value.draggingNode=h,t.emit("node-drag-start",h.node,d)},treeNodeDragOver:({event:d,treeNode:h})=>{const i=h,g=r.value.dropNode;g&&g.node.id!==i.node.id&&fe(g.$el,a.is("drop-inner"));const N=r.value.draggingNode;if(!N||!i)return;let w=!0,_=!0,A=!0,j=!0;typeof e.allowDrop=="function"&&(w=e.allowDrop(N.node,i.node,"prev"),j=_=e.allowDrop(N.node,i.node,"inner"),A=e.allowDrop(N.node,i.node,"next")),d.dataTransfer.dropEffect=_||w||A?"move":"none",(w||_||A)&&(g==null?void 0:g.node.id)!==i.node.id&&(g&&t.emit("node-drag-leave",N.node,g.node,d),t.emit("node-drag-enter",N.node,i.node,d)),w||_||A?r.value.dropNode=i:r.value.dropNode=null,i.node.nextSibling===N.node&&(A=!1),i.node.previousSibling===N.node&&(w=!1),i.node.contains(N.node,!1)&&(_=!1),(N.node===i.node||N.node.contains(i.node))&&(w=!1,_=!1,A=!1);const V=i.$el.querySelector(`.${a.be("node","content")}`).getBoundingClientRect(),X=n.value.getBoundingClientRect();let F;const W=w?_?.25:A?.45:1:-1,Q=A?_?.75:w?.55:0:1;let G=-9999;const v=d.clientY-V.top;v<V.height*W?F="before":v>V.height*Q?F="after":_?F="inner":F="none";const S=i.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),$=s.value;F==="before"?G=S.top-X.top:F==="after"&&(G=S.bottom-X.top),$.style.top=`${G}px`,$.style.left=`${S.right-X.left}px`,F==="inner"?me(i.$el,a.is("drop-inner")):fe(i.$el,a.is("drop-inner")),r.value.showDropIndicator=F==="before"||F==="after",r.value.allowDrop=r.value.showDropIndicator||j,r.value.dropType=F,t.emit("node-drag-over",N.node,i.node,d)},treeNodeDragEnd:d=>{const{draggingNode:h,dropType:i,dropNode:g}=r.value;if(d.preventDefault(),d.dataTransfer&&(d.dataTransfer.dropEffect="move"),h&&g){const N={data:h.node.data};i!=="none"&&h.node.remove(),i==="before"?g.node.parent.insertBefore(N,g.node):i==="after"?g.node.parent.insertAfter(N,g.node):i==="inner"&&g.node.insertChild(N),i!=="none"&&(o.value.registerNode(N),o.value.key&&h.node.eachNode(w=>{var _;(_=o.value.nodesMap[w.data[o.value.key]])==null||_.setChecked(w.checked,!o.value.checkStrictly)})),fe(g.$el,a.is("drop-inner")),t.emit("node-drag-end",h.node,g.node,i,d),i!=="none"&&t.emit("node-drop",h.node,g.node,i,d)}h&&!g&&t.emit("node-drag-end",h.node,null,i,d),r.value.showDropIndicator=!1,r.value.draggingNode=null,r.value.dropNode=null,r.value.allowDrop=!0}}),{dragState:r}}const Wn=T({name:"ElTreeNode",components:{ElCollapseTransition:at,ElCheckbox:Rt,NodeContent:Rn,ElIcon:De,Loading:Bt},props:{node:{type:ce,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=B("tree"),{broadcastExpanded:s}=pt(e),o=ne("RootTree"),a=x(!1),r=x(!1),c=x(null),l=x(null),f=x(null),d=ne(vt),h=_e();ae("NodeInstance",h),e.node.expanded&&(a.value=!0,r.value=!0);const i=o.props.props.children||"children";U(()=>{const v=e.node.data[i];return v&&[...v]},()=>{e.node.updateChildren()}),U(()=>e.node.indeterminate,v=>{w(e.node.checked,v)}),U(()=>e.node.checked,v=>{w(v,e.node.indeterminate)}),U(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),U(()=>e.node.expanded,v=>{Pe(()=>a.value=v),v&&(r.value=!0)});const g=v=>We(o.props.nodeKey,v.data),N=v=>{const S=e.props.class;if(!S)return{};let $;if(At(S)){const{data:ee}=v;$=S(ee,v)}else $=S;return de($)?{[$]:!0}:$},w=(v,S)=>{(c.value!==v||l.value!==S)&&o.ctx.emit("check-change",e.node.data,v,S),c.value=v,l.value=S},_=v=>{ze(o.store,o.ctx.emit,()=>o.store.value.setCurrentNode(e.node)),o.currentNode.value=e.node,o.props.expandOnClickNode&&j(),o.props.checkOnClickNode&&!e.node.disabled&&V(null,{target:{checked:!e.node.checked}}),o.ctx.emit("node-click",e.node.data,e.node,h,v)},A=v=>{o.instance.vnode.props.onNodeContextmenu&&(v.stopPropagation(),v.preventDefault()),o.ctx.emit("node-contextmenu",v,e.node.data,e.node,h)},j=()=>{e.node.isLeaf||(a.value?(o.ctx.emit("node-collapse",e.node.data,e.node,h),e.node.collapse()):e.node.expand(()=>{t.emit("node-expand",e.node.data,e.node,h)}))},V=(v,S)=>{e.node.setChecked(S.target.checked,!o.props.checkStrictly),Pe(()=>{const $=o.store.value;o.ctx.emit("check",e.node.data,{checkedNodes:$.getCheckedNodes(),checkedKeys:$.getCheckedKeys(),halfCheckedNodes:$.getHalfCheckedNodes(),halfCheckedKeys:$.getHalfCheckedKeys()})})};return{ns:n,node$:f,tree:o,expanded:a,childNodeRendered:r,oldChecked:c,oldIndeterminate:l,getNodeKey:g,getNodeClass:N,handleSelectChange:w,handleClick:_,handleContextMenu:A,handleExpandIconClick:j,handleCheckChange:V,handleChildNodeExpand:(v,S,$)=>{s(S),o.ctx.emit("node-expand",v,S,$)},handleDragStart:v=>{o.props.draggable&&d.treeNodeDragStart({event:v,treeNode:e})},handleDragOver:v=>{v.preventDefault(),o.props.draggable&&d.treeNodeDragOver({event:v,treeNode:{$el:f.value,node:e.node}})},handleDrop:v=>{v.preventDefault()},handleDragEnd:v=>{o.props.draggable&&d.treeNodeDragEnd(v)},CaretRight:Ot}}});function Un(e,t,n,s,o,a){const r=se("el-icon"),c=se("el-checkbox"),l=se("loading"),f=se("node-content"),d=se("el-tree-node"),h=se("el-collapse-transition");return ve((k(),z("div",{ref:"node$",class:K([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:re(e.handleClick,["stop"]),onContextmenu:e.handleContextMenu,onDragstart:re(e.handleDragStart,["stop"]),onDragover:re(e.handleDragOver,["stop"]),onDragend:re(e.handleDragEnd,["stop"]),onDrop:re(e.handleDrop,["stop"])},[te("div",{class:K(e.ns.be("node","content")),style:be({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(k(),Z(r,{key:0,class:K([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:re(e.handleExpandIconClick,["stop"])},{default:D(()=>[(k(),Z(nt(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):ie("v-if",!0),e.showCheckbox?(k(),Z(c,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:re(()=>{},["stop"]),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):ie("v-if",!0),e.node.loading?(k(),Z(r,{key:2,class:K([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:D(()=>[L(l)]),_:1},8,["class"])):ie("v-if",!0),L(f,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),L(h,null,{default:D(()=>[!e.renderAfterExpand||e.childNodeRendered?ve((k(),z("div",{key:0,class:K(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(k(!0),z(Ee,null,ot(e.node.childNodes,i=>(k(),Z(d,{key:e.getNodeKey(i),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:i,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[xe,e.expanded]]):ie("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[xe,e.node.visible]])}var Vn=J(Wn,[["render",Un],["__file","tree-node.vue"]]);function Gn({el$:e},t){const n=B("tree"),s=Ye([]),o=Ye([]);ke(()=>{r()}),Pt(()=>{s.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),U(o,c=>{c.forEach(l=>{l.setAttribute("tabindex","-1")})}),Lt(e,"keydown",c=>{const l=c.target;if(!l.className.includes(n.b("node")))return;const f=c.code;s.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const d=s.value.indexOf(l);let h;if([R.up,R.down].includes(f)){if(c.preventDefault(),f===R.up){h=d===-1?0:d!==0?d-1:s.value.length-1;const g=h;for(;!t.value.getNode(s.value[h].dataset.key).canFocus;){if(h--,h===g){h=-1;break}h<0&&(h=s.value.length-1)}}else{h=d===-1?0:d<s.value.length-1?d+1:0;const g=h;for(;!t.value.getNode(s.value[h].dataset.key).canFocus;){if(h++,h===g){h=-1;break}h>=s.value.length&&(h=0)}}h!==-1&&s.value[h].focus()}[R.left,R.right].includes(f)&&(c.preventDefault(),l.click());const i=l.querySelector('[type="checkbox"]');[R.enter,R.space].includes(f)&&i&&(c.preventDefault(),i.click())});const r=()=>{var c;s.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const l=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(c=s.value[0])==null||c.setAttribute("tabindex","0")}}const Yn=T({name:"ElTree",components:{ElTreeNode:Vn},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:le}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=tt(),s=B("tree"),o=ne(jt,null),a=x(new Fn({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));a.value.initialize();const r=x(a.value.root),c=x(null),l=x(null),f=x(null),{broadcastExpanded:d}=pt(e),{dragState:h}=jn({props:e,ctx:t,el$:l,dropIndicator$:f,store:a});Gn({el$:l},a);const i=M(()=>{const{childNodes:u}=r.value,C=o?o.hasFilteredOptions!==0:!1;return(!u||u.length===0||u.every(({visible:m})=>!m))&&!C});U(()=>e.currentNodeKey,u=>{a.value.setCurrentNodeKey(u)}),U(()=>e.defaultCheckedKeys,u=>{a.value.setDefaultCheckedKey(u)}),U(()=>e.defaultExpandedKeys,u=>{a.value.setDefaultExpandedKeys(u)}),U(()=>e.data,u=>{a.value.setData(u)},{deep:!0}),U(()=>e.checkStrictly,u=>{a.value.checkStrictly=u});const g=u=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(u)},N=u=>We(e.nodeKey,u.data),w=u=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const C=a.value.getNode(u);if(!C)return[];const m=[C.data];let E=C.parent;for(;E&&E!==r.value;)m.push(E.data),E=E.parent;return m.reverse()},_=(u,C)=>a.value.getCheckedNodes(u,C),A=u=>a.value.getCheckedKeys(u),j=()=>{const u=a.value.getCurrentNode();return u?u.data:null},V=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const u=j();return u?u[e.nodeKey]:null},X=(u,C)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(u,C)},F=(u,C)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(u,C)},W=(u,C,m)=>{a.value.setChecked(u,C,m)},Q=()=>a.value.getHalfCheckedNodes(),G=()=>a.value.getHalfCheckedKeys(),v=(u,C=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");ze(a,t.emit,()=>{d(u),a.value.setUserCurrentNode(u,C)})},S=(u,C=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");ze(a,t.emit,()=>{d(),a.value.setCurrentNodeKey(u,C)})},$=u=>a.value.getNode(u),ee=u=>{a.value.remove(u)},he=(u,C)=>{a.value.append(u,C)},p=(u,C)=>{a.value.insertBefore(u,C)},y=(u,C)=>{a.value.insertAfter(u,C)},b=(u,C,m)=>{d(C),t.emit("node-expand",u,C,m)},O=(u,C)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(u,C)};return ae("RootTree",{ctx:t,props:e,store:a,root:r,currentNode:c,instance:_e()}),ae(Wt,void 0),{ns:s,store:a,root:r,currentNode:c,dragState:h,el$:l,dropIndicator$:f,isEmpty:i,filter:g,getNodeKey:N,getNodePath:w,getCheckedNodes:_,getCheckedKeys:A,getCurrentNode:j,getCurrentKey:V,setCheckedNodes:X,setCheckedKeys:F,setChecked:W,getHalfCheckedNodes:Q,getHalfCheckedKeys:G,setCurrentNode:v,setCurrentKey:S,t:n,getNode:$,remove:ee,append:he,insertBefore:p,insertAfter:y,handleNodeExpand:b,updateKeyChildren:O}}});function Zn(e,t,n,s,o,a){const r=se("el-tree-node");return k(),z("div",{ref:"el$",class:K([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(k(!0),z(Ee,null,ot(e.root.childNodes,c=>(k(),Z(r,{key:e.getNodeKey(c),node:c,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(k(),z("div",{key:0,class:K(e.ns.e("empty-block"))},[H(e.$slots,"empty",{},()=>{var c;return[te("span",{class:K(e.ns.e("empty-text"))},Ce((c=e.emptyText)!=null?c:e.t("el.tree.emptyText")),3)]})],2)):ie("v-if",!0),ve(te("div",{ref:"dropIndicator$",class:K(e.ns.e("drop-indicator"))},null,2),[[xe,e.dragState.showDropIndicator]])],2)}var Jn=J(Yn,[["render",Zn],["__file","tree.vue"]]);const Qn=Ne(Jn),Xn={style:{display:"flex",width:"100%"}},eo={__name:"Header",setup(e){const t=zt("isLogin");async function n(){(await Nt("/api/logout")).isOK&&(Ht("/"),t.value=!1)}return(s,o)=>{const a=Ae,r=zn;return k(),z("div",Xn,[L(r,{title:"確定要登出嗎？",width:"250","confirm-button-text":"確定","cancel-button-text":"取消",onConfirm:n},{reference:D(()=>[L(a,{class:"logout"},{default:D(()=>o[0]||(o[0]=[ye("登出")])),_:1})]),_:1})])}}},to={__name:"SidebarMenu",async setup(e){let t,n;const{loading:s}=st(),o=x([]),a={children:"children",label:function(l){return l.parent.menuName}},{data:r}=([t,n]=Ft(()=>Vt("/api/GetSidebar",{onRequest({request:l,options:f}){s.value=!0},onRequestError({request:l,options:f,error:d}){},onResponse({response:l}){return s.value=!1,l._data},onResponseError({request:l,response:f,options:d}){}},"$KDVk0la8OS")),t=await t,n(),t);o.value=r.value.data.sidebar.children;const c=l=>{l.parent.url};return ke(()=>{}),(l,f)=>{const d=Qn,h=Kn;return k(),z("div",null,[L(h,{"default-openeds":[],"background-color":"#67c23a","active-text-color":"#f0f9eb"},{default:D(()=>[L(d,{data:I(o),props:a,onNodeClick:c,ref:"tree"},null,8,["data"])]),_:1})])}}},no=qe(to,[["__scopeId","data-v-410f2106"]]),oo={};function so(e,t){return k(),z("div",null,"© Power By Hank.")}const ao=qe(oo,[["render",so]]),ro={class:"common-layout"},lo={class:"main",style:{padding:"15px"}},io=T({__name:"default",setup(e){const{loading:t}=st(),n=x(!1);x([]);function s(){n.value=!n.value}return(o,a)=>{const r=gt,c=eo,l=hn,f=no,d=cn,h=fn,i=ao,g=un,N=dn,w=yt;return k(),z("div",ro,[ve((k(),Z(N,null,{default:D(()=>[L(r,{height:4,throttle:0}),L(l,null,{default:D(()=>[L(c,{onMenuHandleSwitch:s})]),_:1}),L(N,null,{default:D(()=>[L(d,null,{default:D(()=>[L(f)]),_:1}),L(N,null,{default:D(()=>[L(h,null,{default:D(()=>[te("div",lo,[H(o.$slots,"default",{},void 0,!0)])]),_:3}),L(g,null,{default:D(()=>[L(i)]),_:1})]),_:3})]),_:3})]),_:3})),[[w,I(t),void 0,{fullscreen:!0,lock:!0}]])])}}}),Eo=qe(io,[["__scopeId","data-v-1d7904c9"]]);export{Eo as default};
