import{E as w,a as $,b as L,c as S}from"./BddSrRVM.js";import{al as V,r as f,am as C,y as k,N as q,c as R,b as t,w as n,n as r,o as T,d as D,t as z,an as I,ao as A}from"./mvNTNPqZ.js";import{_ as B}from"./m6qDQQBA.js";import"./Byd8yb55.js";import{u as G}from"./DDNyzQie.js";import{u as J}from"./isj5kDPF.js";import"./DXD1lw9R.js";import"./CNcs9qoJ.js";import"./CH3-16Wm.js";const O=V("verifyStore",()=>{const c=f([]);return{verifyLists:c,setVerifyLists:l=>{c.value=l}}}),X={__name:"index",async setup(c){let i,l;const d=O(),{verifyLists:y}=C(d),{setVerifyLists:v}=d,{loading:g}=G(),p=f(1),u=f(10),b=k(()=>{const o=JSON.parse(JSON.stringify(y.value));o.forEach((e,_)=>{e.index=_+1,e.company=`${e.s_Name} (${e.tel}) ${e.s_Id}`,e.applier=`${e.apply_Date}(${e.apply_Name})`,e.censorer=`${e.approve_date2}(${e.approve_Name})`,e.status="等待審核"});const s=(p.value-1)*u.value,a=p.value*u.value;return o.slice(s,a)}),x=o=>{p.value=o};return[i,l]=q(async()=>J("verifyLists",async()=>{const o=await $fetch("/api/GetVerifyList",{onRequest({request:s,options:a}){g.value=!0},onRequestError({request:s,options:a,error:e}){},onResponse({response:s}){return g.value=!1,s._data},onResponseError({request:s,response:a,options:e}){}});return v(o.data),o})),await i,l(),(o,s)=>{const a=L,e=S,_=A,E=B,N=w,h=$;return T(),R("div",null,[t(N,{style:{"margin-top":"20px"},data:r(b),"table-layout":"auto","row-key":"s_Id"},{default:n(()=>[t(a,{prop:"index",label:"項次"}),t(a,{prop:"company",label:"公司全稱(簡稱)統一編號"}),t(a,{prop:"applier",label:"申請日期(申請者)"}),t(a,{prop:"censorer",label:"審核日期(審核者)"}),t(a,{prop:"country",label:"公司國籍"}),t(a,{prop:"status",label:"狀態"},{default:n(({row:m})=>[t(e,{type:"warning"},{default:n(()=>[D(z(m.status),1)]),_:2},1024)]),_:1}),t(a,{width:"60",label:"操作"},{default:n(({row:m})=>[t(E,{to:`/verify/${m.work_No}`},{default:n(()=>[t(_,null,{default:n(()=>[t(r(I))]),_:1})]),_:2},1032,["to"])]),_:1})]),_:1},8,["data"]),t(h,{style:{"margin-top":"10px"},class:"card-list-pagination mt-4 mb-0",layout:"prev, pager, next, jumper","page-size":r(u),total:r(y).length,"current-page":r(p),onCurrentChange:x},null,8,["page-size","total","current-page"])])}}};export{X as default};
