import{_ as bt,v as Ct}from"./BowBVnI9.js";import{T as Nt,b as Ve,E as Pe}from"./BAH4CgVp.js";import{p as $,q as A,o as k,v as Y,w as K,C as R,bl as Fe,bz as kt,z as T,G as Xe,H as Z,J as Ne,u as _t,s as w,c as H,y as B,Q as ke,aj as he,aQ as W,ba as ge,bd as pe,bc as Et,m as De,aI as ie,U as ne,r as I,aS as Mt,b3 as wt,a8 as _e,f as G,P as ae,L as Ee,g as et,ak as L,a6 as ce,E as Ke,x as me,D as Ie,F as Me,k as we,bA as Ge,R as Te,S as xt,bB as St,e as It,ac as Tt,W as tt,al as Je,ad as Le,aF as $t,aU as se,a as te,d as be,t as Ce,bC as Dt,aJ as nt,ag as Kt,A as ot,B as de,b as z,b4 as ze,bD as Bt,be as Ot,bE as At,aH as re,am as st,aa as Pt,bh as Qe,ab as Lt,aE as zt,bF as le,bG as Ht,bH as qt,K as Ft,M as at,N as Rt,_ as Re,Z as jt}from"./ZH-tWQHg.js";import{c as je,C as Ut,u as Ye,d as Wt,s as Vt}from"./C_7zmDhA.js";import{b as Gt,u as Jt}from"./Brt4BjZS.js";import{t as $e}from"./mRE_0vaE.js";import{f as Qt}from"./g8R4dimT.js";import{u as rt}from"./CXlMjUGj.js";import{u as Yt}from"./C-5bLHQg.js";const Se=function(e,t,...n){let s;t.includes("mouse")||t.includes("click")?s="MouseEvents":t.includes("key")?s="KeyboardEvent":s="HTMLEvents";const o=document.createEvent(s);return o.initEvent(t,...n),e.dispatchEvent(o),e},Zt=$({name:"ElCollapseTransition"}),Xt=$({...Zt,setup(e){const t=A("collapse-transition"),n=o=>{o.style.maxHeight="",o.style.overflow=o.dataset.oldOverflow,o.style.paddingTop=o.dataset.oldPaddingTop,o.style.paddingBottom=o.dataset.oldPaddingBottom},s={beforeEnter(o){o.dataset||(o.dataset={}),o.dataset.oldPaddingTop=o.style.paddingTop,o.dataset.oldPaddingBottom=o.style.paddingBottom,o.style.height&&(o.dataset.elExistsHeight=o.style.height),o.style.maxHeight=0,o.style.paddingTop=0,o.style.paddingBottom=0},enter(o){requestAnimationFrame(()=>{o.dataset.oldOverflow=o.style.overflow,o.dataset.elExistsHeight?o.style.maxHeight=o.dataset.elExistsHeight:o.scrollHeight!==0?o.style.maxHeight=`${o.scrollHeight}px`:o.style.maxHeight=0,o.style.paddingTop=o.dataset.oldPaddingTop,o.style.paddingBottom=o.dataset.oldPaddingBottom,o.style.overflow="hidden"})},afterEnter(o){o.style.maxHeight="",o.style.overflow=o.dataset.oldOverflow},enterCancelled(o){n(o)},beforeLeave(o){o.dataset||(o.dataset={}),o.dataset.oldPaddingTop=o.style.paddingTop,o.dataset.oldPaddingBottom=o.style.paddingBottom,o.dataset.oldOverflow=o.style.overflow,o.style.maxHeight=`${o.scrollHeight}px`,o.style.overflow="hidden"},leave(o){o.scrollHeight!==0&&(o.style.maxHeight=0,o.style.paddingTop=0,o.style.paddingBottom=0)},afterLeave(o){n(o)},leaveCancelled(o){n(o)}};return(o,a)=>(k(),Y(Xe,Fe({name:T(t).b()},kt(s)),{default:K(()=>[R(o.$slots,"default")]),_:3},16,["name"]))}});var en=Z(Xt,[["__file","collapse-transition.vue"]]);const lt=Ne(en),tn=$({name:"ElContainer"}),nn=$({...tn,props:{direction:{type:String}},setup(e){const t=e,n=_t(),s=A("container"),o=w(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:n&&n.default?n.default().some(r=>{const d=r.type.name;return d==="ElHeader"||d==="ElFooter"}):!1);return(a,r)=>(k(),H("section",{class:B([T(s).b(),T(s).is("vertical",T(o))])},[R(a.$slots,"default")],2))}});var on=Z(nn,[["__file","container.vue"]]);const sn=$({name:"ElAside"}),an=$({...sn,props:{width:{type:String,default:null}},setup(e){const t=e,n=A("aside"),s=w(()=>t.width?n.cssVarBlock({width:t.width}):{});return(o,a)=>(k(),H("aside",{class:B(T(n).b()),style:ke(T(s))},[R(o.$slots,"default")],6))}});var it=Z(an,[["__file","aside.vue"]]);const rn=$({name:"ElFooter"}),ln=$({...rn,props:{height:{type:String,default:null}},setup(e){const t=e,n=A("footer"),s=w(()=>t.height?n.cssVarBlock({height:t.height}):{});return(o,a)=>(k(),H("footer",{class:B(T(n).b()),style:ke(T(s))},[R(o.$slots,"default")],6))}});var dt=Z(ln,[["__file","footer.vue"]]);const dn=$({name:"ElHeader"}),cn=$({...dn,props:{height:{type:String,default:null}},setup(e){const t=e,n=A("header"),s=w(()=>t.height?n.cssVarBlock({height:t.height}):{});return(o,a)=>(k(),H("header",{class:B(T(n).b()),style:ke(T(s))},[R(o.$slots,"default")],6))}});var ct=Z(cn,[["__file","header.vue"]]);const un=$({name:"ElMain"}),hn=$({...un,setup(e){const t=A("main");return(n,s)=>(k(),H("main",{class:B(T(t).b())},[R(n.$slots,"default")],2))}});var ut=Z(hn,[["__file","main.vue"]]);const fn=Ne(on,{Aside:it,Footer:dt,Header:ct,Main:ut}),pn=he(it),vn=he(dt),mn=he(ct),gn=he(ut);let yn=class{constructor(t,n){this.parent=t,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",s=>{let o=!1;switch(s.code){case W.down:{this.gotoSubIndex(this.subIndex+1),o=!0;break}case W.up:{this.gotoSubIndex(this.subIndex-1),o=!0;break}case W.tab:{Se(t,"mouseleave");break}case W.enter:case W.space:{o=!0,s.currentTarget.click();break}}return o&&(s.preventDefault(),s.stopPropagation()),!1})})}},bn=class{constructor(t,n){this.domNode=t,this.submenu=null,this.submenu=null,this.init(n)}init(t){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${t}-menu`);n&&(this.submenu=new yn(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{let n=!1;switch(t.code){case W.down:{Se(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case W.up:{Se(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case W.tab:{Se(t.currentTarget,"mouseleave");break}case W.enter:case W.space:{n=!0,t.currentTarget.click();break}}n&&t.preventDefault()})}},Cn=class{constructor(t,n){this.domNode=t,this.init(n)}init(t){const n=this.domNode.childNodes;Array.from(n).forEach(s=>{s.nodeType===1&&new bn(s,t)})}};const Nn=$({name:"ElMenuCollapseTransition",setup(){const e=A("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,s){ge(n,`${e.namespace.value}-opacity-transition`),n.style.opacity="1",s()},onAfterEnter(n){pe(n,`${e.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),Et(n,e.m("collapse"))?(pe(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),ge(n,e.m("collapse"))):(ge(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),pe(n,e.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){ge(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function kn(e,t,n,s,o,a){return k(),Y(Xe,Fe({mode:"out-in"},e.listeners),{default:K(()=>[R(e.$slots,"default")]),_:3},16)}var _n=Z(Nn,[["render",kn],["__file","menu-collapse-transition.vue"]]);function ht(e,t){const n=w(()=>{let o=e.parent;const a=[t.value];for(;o.type.name!=="ElMenu";)o.props.index&&a.unshift(o.props.index),o=o.parent;return a});return{parentMenu:w(()=>{let o=e.parent;for(;o&&!["ElMenu","ElSubMenu"].includes(o.type.name);)o=o.parent;return o}),indexPath:n}}function En(e){return w(()=>{const n=e.backgroundColor;return n?new Nt(n).shade(20).toString():""})}const ft=(e,t)=>{const n=A("menu");return w(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":En(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},Mn=De({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:ie},expandOpenIcon:{type:ie},collapseCloseIcon:{type:ie},collapseOpenIcon:{type:ie}}),Be="ElSubMenu";var Ue=$({name:Be,props:Mn,setup(e,{slots:t,expose:n}){const s=we(),{indexPath:o,parentMenu:a}=ht(s,w(()=>e.index)),r=A("menu"),d=A("sub-menu"),i=ne("rootMenu");i||$e(Be,"can not inject root menu");const f=ne(`subMenu:${a.value.uid}`);f||$e(Be,"can not inject sub menu");const c=I({}),u=I({});let l;const p=I(!1),C=I(),M=I(null),E=w(()=>F.value==="horizontal"&&q.value?"bottom-start":"right-start"),O=w(()=>F.value==="horizontal"&&q.value||F.value==="vertical"&&!i.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?V.value?e.expandOpenIcon:e.expandCloseIcon:Mt:e.collapseCloseIcon&&e.collapseOpenIcon?V.value?e.collapseOpenIcon:e.collapseCloseIcon:wt),q=w(()=>f.level===0),j=w(()=>{const g=e.teleported;return g===void 0?q.value:g}),X=w(()=>i.props.collapse?`${r.namespace.value}-zoom-in-left`:`${r.namespace.value}-zoom-in-top`),S=w(()=>F.value==="horizontal"&&q.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),V=w(()=>i.openedMenus.includes(e.index)),J=w(()=>{let g=!1;return Object.values(c.value).forEach(_=>{_.active&&(g=!0)}),Object.values(u.value).forEach(_=>{_.active&&(g=!0)}),g}),F=w(()=>i.props.mode),m=_e({index:e.index,indexPath:o,active:J}),x=ft(i.props,f.level+1),D=w(()=>{var g;return(g=e.popperOffset)!=null?g:i.props.popperOffset}),ee=w(()=>{var g;return(g=e.popperClass)!=null?g:i.props.popperClass}),fe=w(()=>{var g;return(g=e.showTimeout)!=null?g:i.props.showTimeout}),v=w(()=>{var g;return(g=e.hideTimeout)!=null?g:i.props.hideTimeout}),y=()=>{var g,_,U;return(U=(_=(g=M.value)==null?void 0:g.popperRef)==null?void 0:_.popperInstanceRef)==null?void 0:U.destroy()},N=g=>{g||y()},P=()=>{i.props.menuTrigger==="hover"&&i.props.mode==="horizontal"||i.props.collapse&&i.props.mode==="vertical"||e.disabled||i.handleSubMenuClick({index:e.index,indexPath:o.value,active:J.value})},h=(g,_=fe.value)=>{var U;if(g.type!=="focus"){if(i.props.menuTrigger==="click"&&i.props.mode==="horizontal"||!i.props.collapse&&i.props.mode==="vertical"||e.disabled){f.mouseInChild.value=!0;return}f.mouseInChild.value=!0,l==null||l(),{stop:l}=Ge(()=>{i.openMenu(e.index,o.value)},_),j.value&&((U=a.value.vnode.el)==null||U.dispatchEvent(new MouseEvent("mouseenter")))}},b=(g=!1)=>{var _;if(i.props.menuTrigger==="click"&&i.props.mode==="horizontal"||!i.props.collapse&&i.props.mode==="vertical"){f.mouseInChild.value=!1;return}l==null||l(),f.mouseInChild.value=!1,{stop:l}=Ge(()=>!p.value&&i.closeMenu(e.index,o.value),v.value),j.value&&g&&((_=f.handleMouseleave)==null||_.call(f,!0))};G(()=>i.props.collapse,g=>N(!!g));{const g=U=>{u.value[U.index]=U},_=U=>{delete u.value[U.index]};ae(`subMenu:${s.uid}`,{addSubMenu:g,removeSubMenu:_,handleMouseleave:b,mouseInChild:p,level:f.level+1})}return n({opened:V}),Ee(()=>{i.addSubMenu(m),f.addSubMenu(m)}),et(()=>{f.removeSubMenu(m),i.removeSubMenu(m)}),()=>{var g;const _=[(g=t.title)==null?void 0:g.call(t),L(Ke,{class:d.e("icon-arrow"),style:{transform:V.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&i.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>ce(O.value)?L(s.appContext.components[O.value]):L(O.value)})],U=i.isMenuPopup?L(je,{ref:M,visible:V.value,effect:"light",pure:!0,offset:D.value,showArrow:!1,persistent:!0,popperClass:ee.value,placement:E.value,teleported:j.value,fallbackPlacements:S.value,transition:X.value,gpuAcceleration:!1},{content:()=>{var Q;return L("div",{class:[r.m(F.value),r.m("popup-container"),ee.value],onMouseenter:oe=>h(oe,100),onMouseleave:()=>b(!0),onFocus:oe=>h(oe,100)},[L("ul",{class:[r.b(),r.m("popup"),r.m(`popup-${E.value}`)],style:x.value},[(Q=t.default)==null?void 0:Q.call(t)])])},default:()=>L("div",{class:d.e("title"),onClick:P},_)}):L(Me,{},[L("div",{class:d.e("title"),ref:C,onClick:P},_),L(lt,{},{default:()=>{var Q;return me(L("ul",{role:"menu",class:[r.b(),r.m("inline")],style:x.value},[(Q=t.default)==null?void 0:Q.call(t)]),[[Ie,V.value]])}})]);return L("li",{class:[d.b(),d.is("active",J.value),d.is("opened",V.value),d.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:V.value,onMouseenter:h,onMouseleave:()=>b(),onFocus:h},[U])}}});const wn=De({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Te(Array),default:()=>xt([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:ie,default:()=>St},popperEffect:{type:Te(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),Oe=e=>Array.isArray(e)&&e.every(t=>ce(t)),xn={close:(e,t)=>ce(e)&&Oe(t),open:(e,t)=>ce(e)&&Oe(t),select:(e,t,n,s)=>ce(e)&&Oe(t)&&tt(n)&&(s===void 0||s instanceof Promise)};var Sn=$({name:"ElMenu",props:wn,emits:xn,setup(e,{emit:t,slots:n,expose:s}){const o=we(),a=o.appContext.config.globalProperties.$router,r=I(),d=A("menu"),i=A("sub-menu"),f=I(-1),c=I(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),u=I(e.defaultActive),l=I({}),p=I({}),C=w(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),M=()=>{const v=u.value&&l.value[u.value];if(!v||e.mode==="horizontal"||e.collapse)return;v.indexPath.forEach(N=>{const P=p.value[N];P&&E(N,P.indexPath)})},E=(v,y)=>{c.value.includes(v)||(e.uniqueOpened&&(c.value=c.value.filter(N=>y.includes(N))),c.value.push(v),t("open",v,y))},O=v=>{const y=c.value.indexOf(v);y!==-1&&c.value.splice(y,1)},q=(v,y)=>{O(v),t("close",v,y)},j=({index:v,indexPath:y})=>{c.value.includes(v)?q(v,y):E(v,y)},X=v=>{(e.mode==="horizontal"||e.collapse)&&(c.value=[]);const{index:y,indexPath:N}=v;if(!(Je(y)||Je(N)))if(e.router&&a){const P=v.route||y,h=a.push(P).then(b=>(b||(u.value=y),b));t("select",y,N,{index:y,indexPath:N,route:P},h)}else u.value=y,t("select",y,N,{index:y,indexPath:N})},S=v=>{const y=l.value,N=y[v]||u.value&&y[u.value]||y[e.defaultActive];N?u.value=N.index:u.value=v},V=v=>{const y=getComputedStyle(v),N=Number.parseInt(y.marginLeft,10),P=Number.parseInt(y.marginRight,10);return v.offsetWidth+N+P||0},J=()=>{var v,y;if(!r.value)return-1;const N=Array.from((y=(v=r.value)==null?void 0:v.childNodes)!=null?y:[]).filter(oe=>oe.nodeName!=="#comment"&&(oe.nodeName!=="#text"||oe.nodeValue)),P=64,h=getComputedStyle(r.value),b=Number.parseInt(h.paddingLeft,10),g=Number.parseInt(h.paddingRight,10),_=r.value.clientWidth-b-g;let U=0,Q=0;return N.forEach((oe,yt)=>{U+=V(oe),U<=_-P&&(Q=yt+1)}),Q===N.length?-1:Q},F=v=>p.value[v].indexPath,m=(v,y=33.34)=>{let N;return()=>{N&&clearTimeout(N),N=setTimeout(()=>{v()},y)}};let x=!0;const D=()=>{if(f.value===J())return;const v=()=>{f.value=-1,Le(()=>{f.value=J()})};x?v():m(v)(),x=!1};G(()=>e.defaultActive,v=>{l.value[v]||(u.value=""),S(v)}),G(()=>e.collapse,v=>{v&&(c.value=[])}),G(l.value,M);let ee;It(()=>{e.mode==="horizontal"&&e.ellipsis?ee=Tt(r,D).stop:ee==null||ee()});const fe=I(!1);{const v=h=>{p.value[h.index]=h},y=h=>{delete p.value[h.index]};ae("rootMenu",_e({props:e,openedMenus:c,items:l,subMenus:p,activeIndex:u,isMenuPopup:C,addMenuItem:h=>{l.value[h.index]=h},removeMenuItem:h=>{delete l.value[h.index]},addSubMenu:v,removeSubMenu:y,openMenu:E,closeMenu:q,handleMenuItemClick:X,handleSubMenuClick:j})),ae(`subMenu:${o.uid}`,{addSubMenu:v,removeSubMenu:y,mouseInChild:fe,level:0})}return Ee(()=>{e.mode==="horizontal"&&new Cn(o.vnode.el,d.namespace.value)}),s({open:y=>{const{indexPath:N}=p.value[y];N.forEach(P=>E(P,N))},close:O,handleResize:D}),()=>{var v,y;let N=(y=(v=n.default)==null?void 0:v.call(n))!=null?y:[];const P=[];if(e.mode==="horizontal"&&r.value){const _=Qt(N),U=f.value===-1?_:_.slice(0,f.value),Q=f.value===-1?[]:_.slice(f.value);Q!=null&&Q.length&&e.ellipsis&&(N=U,P.push(L(Ue,{index:"sub-menu-more",class:i.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>L(Ke,{class:i.e("icon-more")},{default:()=>L(e.ellipsisIcon)}),default:()=>Q})))}const h=ft(e,0),b=e.closeOnClickOutside?[[Ut,()=>{c.value.length&&(fe.value||(c.value.forEach(_=>t("close",_,F(_))),c.value=[]))}]]:[],g=me(L("ul",{key:String(e.collapse),role:"menubar",ref:r,style:h.value,class:{[d.b()]:!0,[d.m(e.mode)]:!0,[d.m("collapse")]:e.collapse}},[...N,...P]),b);return e.collapseTransition&&e.mode==="vertical"?L(_n,()=>g):g}}});const In=De({index:{type:Te([String,null]),default:null},route:{type:Te([String,Object])},disabled:Boolean}),Tn={click:e=>ce(e.index)&&Array.isArray(e.indexPath)},Ae="ElMenuItem",$n=$({name:Ae,components:{ElTooltip:je},props:In,emits:Tn,setup(e,{emit:t}){const n=we(),s=ne("rootMenu"),o=A("menu"),a=A("menu-item");s||$e(Ae,"can not inject root menu");const{parentMenu:r,indexPath:d}=ht(n,$t(e,"index")),i=ne(`subMenu:${r.value.uid}`);i||$e(Ae,"can not inject sub menu");const f=w(()=>e.index===s.activeIndex),c=_e({index:e.index,indexPath:d,active:f}),u=()=>{e.disabled||(s.handleMenuItemClick({index:e.index,indexPath:d.value,route:e.route}),t("click",c))};return Ee(()=>{i.addSubMenu(c),s.addMenuItem(c)}),et(()=>{i.removeSubMenu(c),s.removeMenuItem(c)}),{parentMenu:r,rootMenu:s,active:f,nsMenu:o,nsMenuItem:a,handleClick:u}}});function Dn(e,t,n,s,o,a){const r=se("el-tooltip");return k(),H("li",{class:B([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:e.handleClick},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(k(),Y(r,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:K(()=>[R(e.$slots,"title")]),default:K(()=>[te("div",{class:B(e.nsMenu.be("tooltip","trigger"))},[R(e.$slots,"default")],2)]),_:3},8,["effect"])):(k(),H(Me,{key:1},[R(e.$slots,"default"),R(e.$slots,"title")],64))],10,["onClick"])}var pt=Z($n,[["render",Dn],["__file","menu-item.vue"]]);const Kn={title:String},Bn="ElMenuItemGroup",On=$({name:Bn,props:Kn,setup(){return{ns:A("menu-item-group")}}});function An(e,t,n,s,o,a){return k(),H("li",{class:B(e.ns.b())},[te("div",{class:B(e.ns.e("title"))},[e.$slots.title?R(e.$slots,"title",{key:1}):(k(),H(Me,{key:0},[be(Ce(e.title),1)],64))],2),te("ul",null,[R(e.$slots,"default")])],2)}var vt=Z(On,[["render",An],["__file","menu-item-group.vue"]]);const Pn=Ne(Sn,{MenuItem:pt,MenuItemGroup:vt,SubMenu:Ue});he(pt);he(vt);he(Ue);const Ln=De({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:Ve,default:"primary"},cancelButtonType:{type:String,values:Ve,default:"text"},icon:{type:ie,default:()=>Dt},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Ye.teleported,persistent:Ye.persistent,width:{type:[String,Number],default:150}}),zn={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},Hn=$({name:"ElPopconfirm"}),qn=$({...Hn,props:Ln,emits:zn,setup(e,{emit:t}){const n=e,{t:s}=nt(),o=A("popconfirm"),a=I(),r=()=>{var l,p;(p=(l=a.value)==null?void 0:l.onClose)==null||p.call(l)},d=w(()=>({width:Kt(n.width)})),i=l=>{t("confirm",l),r()},f=l=>{t("cancel",l),r()},c=w(()=>n.confirmButtonText||s("el.popconfirm.confirmButtonText")),u=w(()=>n.cancelButtonText||s("el.popconfirm.cancelButtonText"));return(l,p)=>(k(),Y(T(je),Fe({ref_key:"tooltipRef",ref:a,trigger:"click",effect:"light"},l.$attrs,{"popper-class":`${T(o).namespace.value}-popover`,"popper-style":T(d),teleported:l.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":l.hideAfter,persistent:l.persistent}),{content:K(()=>[te("div",{class:B(T(o).b())},[te("div",{class:B(T(o).e("main"))},[!l.hideIcon&&l.icon?(k(),Y(T(Ke),{key:0,class:B(T(o).e("icon")),style:ke({color:l.iconColor})},{default:K(()=>[(k(),Y(ot(l.icon)))]),_:1},8,["class","style"])):de("v-if",!0),be(" "+Ce(l.title),1)],2),te("div",{class:B(T(o).e("action"))},[R(l.$slots,"actions",{confirm:i,cancel:f},()=>[z(T(Pe),{size:"small",type:l.cancelButtonType==="text"?"":l.cancelButtonType,text:l.cancelButtonType==="text",onClick:f},{default:K(()=>[be(Ce(T(u)),1)]),_:1},8,["type","text"]),z(T(Pe),{size:"small",type:l.confirmButtonType==="text"?"":l.confirmButtonType,text:l.confirmButtonType==="text",onClick:i},{default:K(()=>[be(Ce(T(c)),1)]),_:1},8,["type","text"])])],2)],2)]),default:K(()=>[l.$slots.reference?R(l.$slots,"reference",{key:0}):de("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Fn=Z(qn,[["__file","popconfirm.vue"]]);const Rn=Ne(Fn),ve="$treeNodeId",Ze=function(e,t){!t||t[ve]||Object.defineProperty(t,ve,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},We=function(e,t){return e?t[e]:t[ve]},He=(e,t,n)=>{const s=e.value.currentNode;n();const o=e.value.currentNode;s!==o&&t("current-change",o?o.data:null,o)},qe=e=>{let t=!0,n=!0,s=!0;for(let o=0,a=e.length;o<a;o++){const r=e[o];(r.checked!==!0||r.indeterminate)&&(t=!1,r.disabled||(s=!1)),(r.checked!==!1||r.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:s,half:!t&&!n}},ye=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:n,half:s}=qe(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):s?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;!o||o.level===0||e.store.checkStrictly||ye(o)},xe=function(e,t){const n=e.store.props,s=e.data||{},o=n[t];if(typeof o=="function")return o(s,e);if(typeof o=="string")return s[o];if(typeof o>"u"){const a=s[t];return a===void 0?"":a}};let jn=0;class ue{constructor(t){this.id=jn++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)ze(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const n=t.props;if(n&&typeof n.isLeaf<"u"){const a=xe(this,"isLeaf");typeof a=="boolean"&&(this.isLeafByUser=a)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Array.isArray(this.data)||Ze(this,this.data),!this.data)return;const s=t.defaultExpandedKeys,o=t.key;o&&s&&s.includes(this.key)&&this.expand(null,t.autoExpandParent),o&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||Ze(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=xe(this,"children")||[];for(let s=0,o=n.length;s<o;s++)this.insertChild({data:n[s]})}get label(){return xe(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return xe(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(s=>s===t||n&&s.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,s){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof ue)){if(!s){const o=this.getChildren(!0);o.includes(t.data)||(typeof n>"u"||n<0?o.push(t.data):o.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=_e(new ue(t)),t instanceof ue&&t.initialize()}t.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let s;n&&(s=this.childNodes.indexOf(n)),this.insertChild(t,s)}insertAfter(t,n){let s;n&&(s=this.childNodes.indexOf(n),s!==-1&&(s+=1)),this.insertChild(t,s)}removeChild(t){const n=this.getChildren()||[],s=n.indexOf(t.data);s>-1&&n.splice(s,1);const o=this.childNodes.indexOf(t);o>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(t){let n=null;for(let s=0;s<this.childNodes.length;s++)if(this.childNodes[s].data===t){n=this.childNodes[s];break}n&&this.removeChild(n)}expand(t,n){const s=()=>{if(n){let o=this.parent;for(;o.level>0;)o.expanded=!0,o=o.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(o=>{o.canFocus=!0})};this.shouldLoadData()?this.loadData(o=>{Array.isArray(o)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||ye(this),s())}):s()}doCreateChildren(t,n={}){t.forEach(s=>{this.insertChild(Object.assign({data:s},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,n,s,o){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:r,allWithoutDisable:d}=qe(this.childNodes);!this.isLeaf&&!r&&d&&(this.checked=!1,t=!1);const i=()=>{if(n){const f=this.childNodes;for(let l=0,p=f.length;l<p;l++){const C=f[l];o=o||t!==!1;const M=C.disabled?C.checked:o;C.setChecked(M,n,!0,o)}const{half:c,all:u}=qe(f);u||(this.checked=u,this.indeterminate=c)}};if(this.shouldLoadData()){this.loadData(()=>{i(),ye(this)},{checked:t!==!1});return}else i()}const a=this.parent;!a||a.level===0||s||ye(a)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const s=this.store.props;let o="children";return s&&(o=s.children||"children"),n[o]===void 0&&(n[o]=null),t&&!n[o]&&(n[o]=[]),n[o]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(a=>a.data),s={},o=[];t.forEach((a,r)=>{const d=a[ve];!!d&&n.findIndex(f=>f[ve]===d)>=0?s[d]={index:r,data:a}:o.push({index:r,data:a})}),this.store.lazy||n.forEach(a=>{s[a[ve]]||this.removeChildByData(a)}),o.forEach(({index:a,data:r})=>{this.insertChild({data:r},a)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const s=a=>{this.childNodes=[],this.doCreateChildren(a,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,a)},o=()=>{this.loading=!1};this.store.load(this,s,o)}else t&&t.call(this)}eachNode(t){const n=[this];for(;n.length;){const s=n.shift();n.unshift(...s.childNodes),t(s)}}reInitChecked(){this.store.checkStrictly||ye(this)}}class Un{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const n in t)ze(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new ue({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,s=this.lazy,o=function(a){const r=a.root?a.root.childNodes:a.childNodes;if(r.forEach(d=>{d.visible=n.call(d,t,d.data,d),o(d)}),!a.visible&&r.length){let d=!0;d=!r.some(i=>i.visible),a.root?a.root.visible=d===!1:a.visible=d===!1}t&&a.visible&&!a.isLeaf&&(!s||a.loaded)&&a.expand()};o(this)}setData(t){t!==this.root.data?(this.nodesMap={},this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof ue)return t;const n=tt(t)?We(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){const s=this.getNode(n);s.parent.insertBefore({data:t},s)}insertAfter(t,n){const s=this.getNode(n);s.parent.insertAfter({data:t},s)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const s=Bt(n)?this.root:this.getNode(n);s&&s.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(s=>{const o=n[s];o&&o.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;!t||!t.data||(n?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(s=>{this.deregisterNode(s)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const s=[],o=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(d=>{(d.checked||n&&d.indeterminate)&&(!t||t&&d.isLeaf)&&s.push(d.data),o(d)})};return o(this),s}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(a=>{a.indeterminate&&t.push(a.data),n(a)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const s in n)ze(n,s)&&t.push(n[s]);return t}updateChildren(t,n){const s=this.nodesMap[t];if(!s)return;const o=s.childNodes;for(let a=o.length-1;a>=0;a--){const r=o[a];this.remove(r.data)}for(let a=0,r=n.length;a<r;a++){const d=n[a];this.append(d,s.data)}}_setCheckedKeys(t,n=!1,s){const o=this._getAllNodes().sort((i,f)=>i.level-f.level),a=Object.create(null),r=Object.keys(s);o.forEach(i=>i.setChecked(!1,!1));const d=i=>{i.childNodes.forEach(f=>{var c;a[f.data[t]]=!0,(c=f.childNodes)!=null&&c.length&&d(f)})};for(let i=0,f=o.length;i<f;i++){const c=o[i],u=c.data[t].toString();if(!r.includes(u)){c.checked&&!a[u]&&c.setChecked(!1,!1);continue}if(c.childNodes.length&&d(c),c.isLeaf||this.checkStrictly){c.setChecked(!0,!1);continue}if(c.setChecked(!0,!0),n){c.setChecked(!1,!1);const p=function(C){C.childNodes.forEach(E=>{E.isLeaf||E.setChecked(!1,!1),p(E)})};p(c)}}}setCheckedNodes(t,n=!1){const s=this.key,o={};t.forEach(a=>{o[(a||{})[s]]=!0}),this._setCheckedKeys(s,n,o)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const s=this.key,o={};t.forEach(a=>{o[a]=!0}),this._setCheckedKeys(s,n,o)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const s=this.getNode(n);s&&s.expand(null,this.autoExpandParent)})}setChecked(t,n,s){const o=this.getNode(t);o&&o.setChecked(!!n,s)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){const s=t[this.key],o=this.nodesMap[s];this.setCurrentNode(o),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,n=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const s=this.getNode(t);s&&(this.setCurrentNode(s),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Wn=$({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=A("tree"),n=ne("NodeInstance"),s=ne("RootTree");return()=>{const o=e.node,{data:a,store:r}=o;return e.renderContent?e.renderContent(L,{_self:n,node:o,data:a,store:r}):R(s.ctx.slots,"default",{node:o,data:a},()=>[L("span",{class:t.be("node","label")},[o.label])])}}});var Vn=Z(Wn,[["__file","tree-node-content.vue"]]);function mt(e){const t=ne("TreeNodeMap",null),n={treeNodeExpand:s=>{e.node!==s&&e.node.collapse()},children:[]};return t&&t.children.push(n),ae("TreeNodeMap",n),{broadcastExpanded:s=>{if(e.accordion)for(const o of n.children)o.treeNodeExpand(s)}}}const gt=Symbol("dragEvents");function Gn({props:e,ctx:t,el$:n,dropIndicator$:s,store:o}){const a=A("tree"),r=I({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ae(gt,{treeNodeDragStart:({event:c,treeNode:u})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(u.node))return c.preventDefault(),!1;c.dataTransfer.effectAllowed="move";try{c.dataTransfer.setData("text/plain","")}catch{}r.value.draggingNode=u,t.emit("node-drag-start",u.node,c)},treeNodeDragOver:({event:c,treeNode:u})=>{const l=u,p=r.value.dropNode;p&&p.node.id!==l.node.id&&pe(p.$el,a.is("drop-inner"));const C=r.value.draggingNode;if(!C||!l)return;let M=!0,E=!0,O=!0,q=!0;typeof e.allowDrop=="function"&&(M=e.allowDrop(C.node,l.node,"prev"),q=E=e.allowDrop(C.node,l.node,"inner"),O=e.allowDrop(C.node,l.node,"next")),c.dataTransfer.dropEffect=E||M||O?"move":"none",(M||E||O)&&(p==null?void 0:p.node.id)!==l.node.id&&(p&&t.emit("node-drag-leave",C.node,p.node,c),t.emit("node-drag-enter",C.node,l.node,c)),M||E||O?r.value.dropNode=l:r.value.dropNode=null,l.node.nextSibling===C.node&&(O=!1),l.node.previousSibling===C.node&&(M=!1),l.node.contains(C.node,!1)&&(E=!1),(C.node===l.node||C.node.contains(l.node))&&(M=!1,E=!1,O=!1);const j=l.$el.querySelector(`.${a.be("node","content")}`).getBoundingClientRect(),X=n.value.getBoundingClientRect();let S;const V=M?E?.25:O?.45:1:-1,J=O?E?.75:M?.55:0:1;let F=-9999;const m=c.clientY-j.top;m<j.height*V?S="before":m>j.height*J?S="after":E?S="inner":S="none";const x=l.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),D=s.value;S==="before"?F=x.top-X.top:S==="after"&&(F=x.bottom-X.top),D.style.top=`${F}px`,D.style.left=`${x.right-X.left}px`,S==="inner"?ge(l.$el,a.is("drop-inner")):pe(l.$el,a.is("drop-inner")),r.value.showDropIndicator=S==="before"||S==="after",r.value.allowDrop=r.value.showDropIndicator||q,r.value.dropType=S,t.emit("node-drag-over",C.node,l.node,c)},treeNodeDragEnd:c=>{const{draggingNode:u,dropType:l,dropNode:p}=r.value;if(c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect="move"),u&&p){const C={data:u.node.data};l!=="none"&&u.node.remove(),l==="before"?p.node.parent.insertBefore(C,p.node):l==="after"?p.node.parent.insertAfter(C,p.node):l==="inner"&&p.node.insertChild(C),l!=="none"&&(o.value.registerNode(C),o.value.key&&u.node.eachNode(M=>{var E;(E=o.value.nodesMap[M.data[o.value.key]])==null||E.setChecked(M.checked,!o.value.checkStrictly)})),pe(p.$el,a.is("drop-inner")),t.emit("node-drag-end",u.node,p.node,l,c),l!=="none"&&t.emit("node-drop",u.node,p.node,l,c)}u&&!p&&t.emit("node-drag-end",u.node,null,l,c),r.value.showDropIndicator=!1,r.value.draggingNode=null,r.value.dropNode=null,r.value.allowDrop=!0}}),{dragState:r}}const Jn=$({name:"ElTreeNode",components:{ElCollapseTransition:lt,ElCheckbox:Wt,NodeContent:Vn,ElIcon:Ke,Loading:Ot},props:{node:{type:ue,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=A("tree"),{broadcastExpanded:s}=mt(e),o=ne("RootTree"),a=I(!1),r=I(!1),d=I(null),i=I(null),f=I(null),c=ne(gt),u=we();ae("NodeInstance",u),e.node.expanded&&(a.value=!0,r.value=!0);const l=o.props.props.children||"children";G(()=>{const m=e.node.data[l];return m&&[...m]},()=>{e.node.updateChildren()}),G(()=>e.node.indeterminate,m=>{M(e.node.checked,m)}),G(()=>e.node.checked,m=>{M(m,e.node.indeterminate)}),G(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),G(()=>e.node.expanded,m=>{Le(()=>a.value=m),m&&(r.value=!0)});const p=m=>We(o.props.nodeKey,m.data),C=m=>{const x=e.props.class;if(!x)return{};let D;if(Pt(x)){const{data:ee}=m;D=x(ee,m)}else D=x;return ce(D)?{[D]:!0}:D},M=(m,x)=>{(d.value!==m||i.value!==x)&&o.ctx.emit("check-change",e.node.data,m,x),d.value=m,i.value=x},E=m=>{He(o.store,o.ctx.emit,()=>o.store.value.setCurrentNode(e.node)),o.currentNode.value=e.node,o.props.expandOnClickNode&&q(),o.props.checkOnClickNode&&!e.node.disabled&&j(null,{target:{checked:!e.node.checked}}),o.ctx.emit("node-click",e.node.data,e.node,u,m)},O=m=>{o.instance.vnode.props.onNodeContextmenu&&(m.stopPropagation(),m.preventDefault()),o.ctx.emit("node-contextmenu",m,e.node.data,e.node,u)},q=()=>{e.node.isLeaf||(a.value?(o.ctx.emit("node-collapse",e.node.data,e.node,u),e.node.collapse()):e.node.expand(()=>{t.emit("node-expand",e.node.data,e.node,u)}))},j=(m,x)=>{e.node.setChecked(x.target.checked,!o.props.checkStrictly),Le(()=>{const D=o.store.value;o.ctx.emit("check",e.node.data,{checkedNodes:D.getCheckedNodes(),checkedKeys:D.getCheckedKeys(),halfCheckedNodes:D.getHalfCheckedNodes(),halfCheckedKeys:D.getHalfCheckedKeys()})})};return{ns:n,node$:f,tree:o,expanded:a,childNodeRendered:r,oldChecked:d,oldIndeterminate:i,getNodeKey:p,getNodeClass:C,handleSelectChange:M,handleClick:E,handleContextMenu:O,handleExpandIconClick:q,handleCheckChange:j,handleChildNodeExpand:(m,x,D)=>{s(x),o.ctx.emit("node-expand",m,x,D)},handleDragStart:m=>{o.props.draggable&&c.treeNodeDragStart({event:m,treeNode:e})},handleDragOver:m=>{m.preventDefault(),o.props.draggable&&c.treeNodeDragOver({event:m,treeNode:{$el:f.value,node:e.node}})},handleDrop:m=>{m.preventDefault()},handleDragEnd:m=>{o.props.draggable&&c.treeNodeDragEnd(m)},CaretRight:At}}});function Qn(e,t,n,s,o,a){const r=se("el-icon"),d=se("el-checkbox"),i=se("loading"),f=se("node-content"),c=se("el-tree-node"),u=se("el-collapse-transition");return me((k(),H("div",{ref:"node$",class:B([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:re(e.handleClick,["stop"]),onContextmenu:e.handleContextMenu,onDragstart:re(e.handleDragStart,["stop"]),onDragover:re(e.handleDragOver,["stop"]),onDragend:re(e.handleDragEnd,["stop"]),onDrop:re(e.handleDrop,["stop"])},[te("div",{class:B(e.ns.be("node","content")),style:ke({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(k(),Y(r,{key:0,class:B([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:re(e.handleExpandIconClick,["stop"])},{default:K(()=>[(k(),Y(ot(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):de("v-if",!0),e.showCheckbox?(k(),Y(d,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:re(()=>{},["stop"]),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):de("v-if",!0),e.node.loading?(k(),Y(r,{key:2,class:B([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:K(()=>[z(i)]),_:1},8,["class"])):de("v-if",!0),z(f,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),z(u,null,{default:K(()=>[!e.renderAfterExpand||e.childNodeRendered?me((k(),H("div",{key:0,class:B(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(k(!0),H(Me,null,st(e.node.childNodes,l=>(k(),Y(c,{key:e.getNodeKey(l),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:l,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[Ie,e.expanded]]):de("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[Ie,e.node.visible]])}var Yn=Z(Jn,[["render",Qn],["__file","tree-node.vue"]]);function Zn({el$:e},t){const n=A("tree"),s=Qe([]),o=Qe([]);Ee(()=>{r()}),Lt(()=>{s.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),G(o,d=>{d.forEach(i=>{i.setAttribute("tabindex","-1")})}),zt(e,"keydown",d=>{const i=d.target;if(!i.className.includes(n.b("node")))return;const f=d.code;s.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const c=s.value.indexOf(i);let u;if([W.up,W.down].includes(f)){if(d.preventDefault(),f===W.up){u=c===-1?0:c!==0?c-1:s.value.length-1;const p=u;for(;!t.value.getNode(s.value[u].dataset.key).canFocus;){if(u--,u===p){u=-1;break}u<0&&(u=s.value.length-1)}}else{u=c===-1?0:c<s.value.length-1?c+1:0;const p=u;for(;!t.value.getNode(s.value[u].dataset.key).canFocus;){if(u++,u===p){u=-1;break}u>=s.value.length&&(u=0)}}u!==-1&&s.value[u].focus()}[W.left,W.right].includes(f)&&(d.preventDefault(),i.click());const l=i.querySelector('[type="checkbox"]');[W.enter,W.space].includes(f)&&l&&(d.preventDefault(),l.click())});const r=()=>{var d;s.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const i=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(i.length){i[0].setAttribute("tabindex","0");return}(d=s.value[0])==null||d.setAttribute("tabindex","0")}}const Xn=$({name:"ElTree",components:{ElTreeNode:Yn},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:ie}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=nt(),s=A("tree"),o=ne(Vt,null),a=I(new Un({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));a.value.initialize();const r=I(a.value.root),d=I(null),i=I(null),f=I(null),{broadcastExpanded:c}=mt(e),{dragState:u}=Gn({props:e,ctx:t,el$:i,dropIndicator$:f,store:a});Zn({el$:i},a);const l=w(()=>{const{childNodes:h}=r.value,b=o?o.hasFilteredOptions!==0:!1;return(!h||h.length===0||h.every(({visible:g})=>!g))&&!b});G(()=>e.currentNodeKey,h=>{a.value.setCurrentNodeKey(h)}),G(()=>e.defaultCheckedKeys,h=>{a.value.setDefaultCheckedKey(h)}),G(()=>e.defaultExpandedKeys,h=>{a.value.setDefaultExpandedKeys(h)}),G(()=>e.data,h=>{a.value.setData(h)},{deep:!0}),G(()=>e.checkStrictly,h=>{a.value.checkStrictly=h});const p=h=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(h)},C=h=>We(e.nodeKey,h.data),M=h=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const b=a.value.getNode(h);if(!b)return[];const g=[b.data];let _=b.parent;for(;_&&_!==r.value;)g.push(_.data),_=_.parent;return g.reverse()},E=(h,b)=>a.value.getCheckedNodes(h,b),O=h=>a.value.getCheckedKeys(h),q=()=>{const h=a.value.getCurrentNode();return h?h.data:null},j=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const h=q();return h?h[e.nodeKey]:null},X=(h,b)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(h,b)},S=(h,b)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(h,b)},V=(h,b,g)=>{a.value.setChecked(h,b,g)},J=()=>a.value.getHalfCheckedNodes(),F=()=>a.value.getHalfCheckedKeys(),m=(h,b=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");He(a,t.emit,()=>{c(h),a.value.setUserCurrentNode(h,b)})},x=(h,b=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");He(a,t.emit,()=>{c(),a.value.setCurrentNodeKey(h,b)})},D=h=>a.value.getNode(h),ee=h=>{a.value.remove(h)},fe=(h,b)=>{a.value.append(h,b)},v=(h,b)=>{a.value.insertBefore(h,b)},y=(h,b)=>{a.value.insertAfter(h,b)},N=(h,b,g)=>{c(b),t.emit("node-expand",h,b,g)},P=(h,b)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(h,b)};return ae("RootTree",{ctx:t,props:e,store:a,root:r,currentNode:d,instance:we()}),ae(Gt,void 0),{ns:s,store:a,root:r,currentNode:d,dragState:u,el$:i,dropIndicator$:f,isEmpty:l,filter:p,getNodeKey:C,getNodePath:M,getCheckedNodes:E,getCheckedKeys:O,getCurrentNode:q,getCurrentKey:j,setCheckedNodes:X,setCheckedKeys:S,setChecked:V,getHalfCheckedNodes:J,getHalfCheckedKeys:F,setCurrentNode:m,setCurrentKey:x,t:n,getNode:D,remove:ee,append:fe,insertBefore:v,insertAfter:y,handleNodeExpand:N,updateKeyChildren:P}}});function eo(e,t,n,s,o,a){const r=se("el-tree-node");return k(),H("div",{ref:"el$",class:B([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(k(!0),H(Me,null,st(e.root.childNodes,d=>(k(),Y(r,{key:e.getNodeKey(d),node:d,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(k(),H("div",{key:0,class:B(e.ns.e("empty-block"))},[R(e.$slots,"empty",{},()=>{var d;return[te("span",{class:B(e.ns.e("empty-text"))},Ce((d=e.emptyText)!=null?d:e.t("el.tree.emptyText")),3)]})],2)):de("v-if",!0),me(te("div",{ref:"dropIndicator$",class:B(e.ns.e("drop-indicator"))},null,2),[[Ie,e.dragState.showDropIndicator]])],2)}var to=Z(Xn,[["render",eo],["__file","tree.vue"]]);const no=Ne(to);function oo(e,t,n){const[s={},o]=typeof t=="string"?[{},t]:[t,n],a=w(()=>le(e)),r=s.key||Ht([o,typeof a.value=="string"?a.value:"",...so(s)]);if(!r||typeof r!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+r);const d=r===o?"$f"+r:r;if(!s.baseURL&&typeof a.value=="string"&&a.value[0]==="/"&&a.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:i,lazy:f,default:c,transform:u,pick:l,watch:p,immediate:C,getCachedData:M,deep:E,dedupe:O,...q}=s,j=_e({...qt,...q,cache:typeof s.cache=="boolean"?void 0:s.cache}),X={server:i,lazy:f,default:c,transform:u,pick:l,immediate:C,getCachedData:M,deep:E,dedupe:O,watch:p===!1?[]:[j,a,...p||[]]};let S;return Yt(d,()=>{var x;(x=S==null?void 0:S.abort)==null||x.call(S,"Request aborted as another request to the same endpoint was initiated."),S=typeof AbortController<"u"?new AbortController:{};const J=le(s.timeout);let F;return J&&(F=setTimeout(()=>S.abort("Request aborted due to timeout."),J),S.signal.onabort=()=>clearTimeout(F)),(s.$fetch||globalThis.$fetch)(a.value,{signal:S.signal,...j}).finally(()=>{clearTimeout(F)})},X)}function so(e){var n;const t=[((n=le(e.method))==null?void 0:n.toUpperCase())||"GET",le(e.baseURL)];for(const s of[e.params||e.query]){const o=le(s);if(!o)continue;const a={};for(const[r,d]of Object.entries(o))a[le(r)]=le(d);t.push(a)}return t}const ao={style:{display:"flex",width:"100%"}},ro={__name:"Header",setup(e){const n=at().public.apiUrl,s=Ft("isLogin");async function o(){(await Jt(`${n}/Login/Logout`)).isOK&&(Rt("/"),s.value=!1)}return(a,r)=>{const d=Pe,i=Rn;return k(),H("div",ao,[z(i,{title:"確定要登出嗎？",width:"250","confirm-button-text":"確定","cancel-button-text":"取消",onConfirm:o},{reference:K(()=>[z(d,{class:"logout"},{default:K(()=>r[0]||(r[0]=[be("登出")])),_:1})]),_:1})])}}},lo={__name:"SidebarMenu",async setup(e){let t,n;at().public.apiUrl;const{loading:o}=rt(),a=I([]),r={children:"children",label:function(f){return f.parent.menuName}},{data:d}=([t,n]=jt(()=>oo("/api/GetSidebar",{onRequest({request:f,options:c}){o.value=!0},onRequestError({request:f,options:c,error:u}){},onResponse({response:f}){return o.value=!1,f._data},onResponseError({request:f,response:c,options:u}){}},"$KDVk0la8OS")),t=await t,n(),t);a.value=d.value.data.sidebar.children;const i=f=>{f.parent.url};return Ee(()=>{}),(f,c)=>{const u=no,l=Pn;return k(),H("div",null,[z(l,{"default-openeds":[],"background-color":"#67c23a","active-text-color":"#f0f9eb"},{default:K(()=>[z(u,{data:T(a),props:r,onNodeClick:i,ref:"tree"},null,8,["data"])]),_:1})])}}},io=Re(lo,[["__scopeId","data-v-76b41651"]]),co={};function uo(e,t){return k(),H("div",null,"© Power By Hank.")}const ho=Re(co,[["render",uo]]),fo={class:"common-layout"},po={class:"main",style:{padding:"15px"}},vo=$({__name:"default",setup(e){const{loading:t}=rt(),n=I(!1);I([]);function s(){n.value=!n.value}return(o,a)=>{const r=bt,d=ro,i=mn,f=io,c=pn,u=gn,l=ho,p=vn,C=fn,M=Ct;return k(),H("div",fo,[me((k(),Y(C,null,{default:K(()=>[z(r,{height:4,throttle:0}),z(i,null,{default:K(()=>[z(d,{onMenuHandleSwitch:s})]),_:1}),z(C,null,{default:K(()=>[z(c,null,{default:K(()=>[z(f)]),_:1}),z(C,null,{default:K(()=>[z(u,null,{default:K(()=>[te("div",po,[R(o.$slots,"default",{},void 0,!0)])]),_:3}),z(p,null,{default:K(()=>[z(l)]),_:1})]),_:3})]),_:3})]),_:3})),[[M,T(t),void 0,{fullscreen:!0,lock:!0}]])])}}}),So=Re(vo,[["__scopeId","data-v-1d7904c9"]]);export{So as default};
