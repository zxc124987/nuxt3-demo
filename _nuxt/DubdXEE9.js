import{E as w}from"./C-klHSsI.js";import{E,a as b}from"./BK4Fj4Uo.js";import{u as x,E as y}from"./uFocWK9L.js";import{_ as V,u as v,r as l,m as k,c as C,b as t,w as n,n as o,o as q,d as B,E as I,p as R,q as F}from"./9gGFdJfN.js";import"./ClOM26hg.js";import"./DQaEmp5u.js";import"./DVuBypTt.js";const L={class:"login"},M={__name:"index",setup(N){const i=v("isLogin"),p=l(null),s=l({acct_id:"a",pword:"a"}),m=l({acct_id:[{required:!0,message:"必填",trigger:"change"}],pword:[{required:!0,message:"必填",trigger:"change"}]});function c(a){a&&a.validate(async e=>{e?await _():I({message:"表單輸入錯誤",type:"error"})})}const _=async()=>{const a=F();console.log(a.public),(await x("/api/login")).isOK&&(R("/dashboard"),i.value=!0)};return k(()=>{i.value=null}),(a,e)=>{const d=w,u=b,f=y,g=E;return q(),C("div",L,[t(g,{"label-position":"top",ref_key:"formRef",ref:p,model:o(s),rules:o(m)},{default:n(()=>[t(u,{label:"帳號",prop:"acct_id"},{default:n(()=>[t(d,{type:"text",modelValue:o(s).acct_id,"onUpdate:modelValue":e[0]||(e[0]=r=>o(s).acct_id=r),placeholder:"請輸入"},null,8,["modelValue"])]),_:1}),t(u,{label:"密碼",prop:"pword"},{default:n(()=>[t(d,{type:"password",modelValue:o(s).pword,"onUpdate:modelValue":e[1]||(e[1]=r=>o(s).pword=r),"show-password":"",placeholder:"請輸入"},null,8,["modelValue"])]),_:1}),t(f,{type:"primary",onClick:e[2]||(e[2]=r=>c(o(p)))},{default:n(()=>e[3]||(e[3]=[B("送出")])),_:1})]),_:1},8,["model","rules"])])}}},j=V(M,[["__scopeId","data-v-43466c95"]]);export{j as default};
