import{E as N,a as $,b as L,c as S}from"./BuzbgUXS.js";import{ah as V,r as f,ai as k,x as C,M as q,c as R,b as t,w as n,n as r,o as T,d as D,t as z,aj as I,ak as j}from"./CxAb3mHL.js";import{_ as A}from"./DcHNGJiu.js";import"./B-KZaLCz.js";import{u as B}from"./peTzHTqz.js";import{u as G}from"./CPKtkTOV.js";import"./BlWpwm4H.js";import"./BGOUWbUY.js";import"./BZ2QUSR4.js";const J=V("verifyStore",()=>{const i=f([]);return{verifyLists:i,setVerifyLists:l=>{i.value=l}}}),X={__name:"index",async setup(i){let c,l;const d=J(),{verifyLists:y}=k(d),{setVerifyLists:v}=d,{loading:g}=B(),p=f(1),u=f(10),b=C(()=>{const o=JSON.parse(JSON.stringify(y.value));o.forEach((e,_)=>{e.index=_+1,e.company=`${e.s_Name} (${e.tel}) ${e.s_Id}`,e.applier=`${e.apply_Date}(${e.apply_Name})`,e.censorer=`${e.approve_date2}(${e.approve_Name})`,e.status="等待審核"});const s=(p.value-1)*u.value,a=p.value*u.value;return o.slice(s,a)}),x=o=>{p.value=o};return[c,l]=q(async()=>G("verifyLists",async()=>{const o=await $fetch("/api/GetVerifyList",{onRequest({request:s,options:a}){g.value=!0},onRequestError({request:s,options:a,error:e}){},onResponse({response:s}){return g.value=!1,s._data},onResponseError({request:s,response:a,options:e}){}});return v(o.data),o})),await c,l(),(o,s)=>{const a=L,e=S,_=j,h=A,E=N,w=$;return T(),R("div",null,[t(E,{style:{"margin-top":"20px"},data:r(b),"table-layout":"auto","row-key":"s_Id"},{default:n(()=>[t(a,{prop:"index",label:"項次"}),t(a,{prop:"company",label:"公司全稱(簡稱)統一編號"}),t(a,{prop:"applier",label:"申請日期(申請者)"}),t(a,{prop:"censorer",label:"審核日期(審核者)"}),t(a,{prop:"country",label:"公司國籍"}),t(a,{prop:"status",label:"狀態"},{default:n(({row:m})=>[t(e,{type:"warning"},{default:n(()=>[D(z(m.status),1)]),_:2},1024)]),_:1}),t(a,{width:"60",label:"操作"},{default:n(({row:m})=>[t(h,{to:`/verify/${m.work_No}`},{default:n(()=>[t(_,null,{default:n(()=>[t(r(I))]),_:1})]),_:2},1032,["to"])]),_:1})]),_:1},8,["data"]),t(w,{style:{"margin-top":"10px"},class:"card-list-pagination mt-4 mb-0",layout:"prev, pager, next, jumper","page-size":r(u),total:r(y).length,"current-page":r(p),onCurrentChange:x},null,8,["page-size","total","current-page"])])}}};export{X as default};
