import{aD as Ne,a1 as Te,aA as Ge,a3 as et,a2 as tt,az as nt,s as f,bg as ot,k as Ve,bh as Y,r as $,f as X,aE as G,aa as xe,ad as F,V as we,m as at,an as st,R as ee,aI as Ce,S as rt,a6 as te,p as Be,bi as it,u as lt,q as Se,aM as ut,bj as ct,bk as dt,al as pt,ac as ft,L as vt,aF as mt,o as m,c as C,B as h,F as ne,y,z as o,C as j,a as N,v as I,w as L,A as W,E as R,bl as oe,b as ht,aR as gt,aH as yt,bm as bt,t as _,Q as xt,H as wt,W as Ie,J as Ct}from"./ZH-tWQHg.js";import{y as Le,l as St,z as It,A as Et,B as Ee,u as zt,U as ae,v as Pt,w as Ft,f as ze}from"./mRE_0vaE.js";import{a as kt,c as Ot}from"./Brt4BjZS.js";const At=()=>Ne&&/firefox/i.test(window.navigator.userAgent);var Pe=Object.create,Nt=function(){function e(){}return function(s){if(!Te(s))return{};if(Pe)return Pe(s);e.prototype=s;var a=new e;return e.prototype=void 0,a}}();function sn(e,s){var a=-1,n=e.length;for(s||(s=Array(n));++a<n;)s[a]=e[a];return s}function rn(e,s,a,n){var i=!a;a||(a={});for(var c=-1,d=s.length;++c<d;){var r=s[c],u=void 0;u===void 0&&(u=e[r]),i?Ge(a,r,u):et(a,r,u)}return a}function Tt(e){var s=[];if(e!=null)for(var a in Object(e))s.push(a);return s}var Vt=Object.prototype,Bt=Vt.hasOwnProperty;function Lt(e){if(!Te(e))return Tt(e);var s=Le(e),a=[];for(var n in e)n=="constructor"&&(s||!Bt.call(e,n))||a.push(n);return a}function ln(e){return St(e)?It(e,!0):Lt(e)}var Rt=Et(Object.getPrototypeOf,Object);function un(){if(!arguments.length)return[];var e=arguments[0];return tt(e)?e:[e]}var Re=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Fe=Re&&typeof module=="object"&&module&&!module.nodeType&&module,$t=Fe&&Fe.exports===Re,ke=$t?nt.Buffer:void 0,Oe=ke?ke.allocUnsafe:void 0;function cn(e,s){if(s)return e.slice();var a=e.length,n=Oe?Oe(a):new e.constructor(a);return e.copy(n),n}function Mt(e){var s=new e.constructor(e.byteLength);return new Ee(s).set(new Ee(e)),s}function dn(e,s){var a=s?Mt(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function pn(e){return typeof e.constructor=="function"&&!Le(e)?Nt(Rt(e)):{}}const Ht=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),Kt=["class","style"],Dt=/^on[A-Z]/,Ut=(e={})=>{const{excludeListeners:s=!1,excludeKeys:a}=e,n=f(()=>((a==null?void 0:a.value)||[]).concat(Kt)),i=Ve();return i?f(()=>{var c;return ot(Object.entries((c=i.proxy)==null?void 0:c.$attrs).filter(([d])=>!n.value.includes(d)&&!(s&&Dt.test(d))))}):f(()=>({}))};function jt(e){let s;function a(){if(e.value==null)return;const{selectionStart:i,selectionEnd:c,value:d}=e.value;if(i==null||c==null)return;const r=d.slice(0,Math.max(0,i)),u=d.slice(Math.max(0,c));s={selectionStart:i,selectionEnd:c,value:d,beforeTxt:r,afterTxt:u}}function n(){if(e.value==null||s==null)return;const{value:i}=e.value,{beforeTxt:c,afterTxt:d,selectionStart:r}=s;if(c==null||d==null||r==null)return;let u=i.length;if(i.endsWith(d))u=i.length-d.length;else if(i.startsWith(c))u=c.length;else{const b=c[r-1],x=i.indexOf(b,r-1);x!==-1&&(u=x+1)}e.value.setSelectionRange(u,u)}return[a,n]}function Wt(e,{beforeFocus:s,afterFocus:a,beforeBlur:n,afterBlur:i}={}){const c=Ve(),{emit:d}=c,r=Y(),u=$(!1),b=g=>{xe(s)&&s(g)||u.value||(u.value=!0,d("focus",g),a==null||a())},x=g=>{var E;xe(n)&&n(g)||g.relatedTarget&&((E=r.value)!=null&&E.contains(g.relatedTarget))||(u.value=!1,d("blur",g),i==null||i())},v=()=>{var g,E;(g=r.value)!=null&&g.contains(document.activeElement)&&r.value!==document.activeElement||(E=e.value)==null||E.focus()};return X(r,g=>{g&&g.setAttribute("tabindex","-1")}),G(r,"focus",b,!0),G(r,"blur",x,!0),G(r,"click",v,!0),{isFocused:u,wrapperRef:r,handleFocus:b,handleBlur:x}}function _t({afterComposition:e,emit:s}){const a=$(!1),n=r=>{s==null||s("compositionstart",r),a.value=!0},i=r=>{var u;s==null||s("compositionupdate",r);const b=(u=r.target)==null?void 0:u.value,x=b[b.length-1]||"";a.value=!Ht(x)},c=r=>{s==null||s("compositionend",r),a.value&&(a.value=!1,F(()=>e(r)))};return{isComposing:a,handleComposition:r=>{r.type==="compositionend"?c(r):i(r)},handleCompositionStart:n,handleCompositionUpdate:i,handleCompositionEnd:c}}let w;const Yt=`
  height:0 !important;
  visibility:hidden !important;
  ${At()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Xt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function qt(e){const s=window.getComputedStyle(e),a=s.getPropertyValue("box-sizing"),n=Number.parseFloat(s.getPropertyValue("padding-bottom"))+Number.parseFloat(s.getPropertyValue("padding-top")),i=Number.parseFloat(s.getPropertyValue("border-bottom-width"))+Number.parseFloat(s.getPropertyValue("border-top-width"));return{contextStyle:Xt.map(d=>`${d}:${s.getPropertyValue(d)}`).join(";"),paddingSize:n,borderSize:i,boxSizing:a}}function Ae(e,s=1,a){var n;w||(w=document.createElement("textarea"),document.body.appendChild(w));const{paddingSize:i,borderSize:c,boxSizing:d,contextStyle:r}=qt(e);w.setAttribute("style",`${r};${Yt}`),w.value=e.value||e.placeholder||"";let u=w.scrollHeight;const b={};d==="border-box"?u=u+c:d==="content-box"&&(u=u-i),w.value="";const x=w.scrollHeight-i;if(we(s)){let v=x*s;d==="border-box"&&(v=v+i+c),u=Math.max(v,u),b.minHeight=`${v}px`}if(we(a)){let v=x*a;d==="border-box"&&(v=v+i+c),u=Math.min(v,u)}return b.height=`${u}px`,(n=w.parentNode)==null||n.removeChild(w),w=void 0,b}const Jt=at({id:{type:String,default:void 0},size:st,disabled:Boolean,modelValue:{type:ee([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ee([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Ce},prefixIcon:{type:Ce},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ee([Object,Array,String]),default:()=>rt({})},autofocus:Boolean,rows:{type:Number,default:2},...zt(["ariaLabel"])}),Qt={[ae]:e=>te(e),input:e=>te(e),change:e=>te(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Zt=Be({name:"ElInput",inheritAttrs:!1}),Gt=Be({...Zt,props:Jt,emits:Qt,setup(e,{expose:s,emit:a}){const n=e,i=it(),c=lt(),d=f(()=>{const t={};return n.containerRole==="combobox"&&(t["aria-haspopup"]=i["aria-haspopup"],t["aria-owns"]=i["aria-owns"],t["aria-expanded"]=i["aria-expanded"]),t}),r=f(()=>[n.type==="textarea"?se.b():l.b(),l.m(E.value),l.is("disabled",z.value),l.is("exceed",Ue.value),{[l.b("group")]:c.prepend||c.append,[l.m("prefix")]:c.prefix||n.prefixIcon,[l.m("suffix")]:c.suffix||n.suffixIcon||n.clearable||n.showPassword,[l.bm("suffix","password-clear")]:U.value&&J.value,[l.b("hidden")]:n.type==="hidden"},i.class]),u=f(()=>[l.e("wrapper"),l.is("focus",D.value)]),b=Ut({excludeKeys:f(()=>Object.keys(d.value))}),{form:x,formItem:v}=Pt(),{inputId:g}=Ft(n,{formItemContext:v}),E=kt(),z=Ot(),l=Se("input"),se=Se("textarea"),M=Y(),S=Y(),q=$(!1),H=$(!1),re=$(),K=Y(n.inputStyle),k=f(()=>M.value||S.value),{wrapperRef:$e,isFocused:D,handleFocus:Me,handleBlur:He}=Wt(k,{beforeFocus(){return z.value},afterBlur(){var t;n.validateEvent&&((t=v==null?void 0:v.validate)==null||t.call(v,"blur").catch(p=>ze()))}}),ie=f(()=>{var t;return(t=x==null?void 0:x.statusIcon)!=null?t:!1}),T=f(()=>(v==null?void 0:v.validateState)||""),le=f(()=>T.value&&ut[T.value]),Ke=f(()=>H.value?ct:dt),De=f(()=>[i.style]),ue=f(()=>[n.inputStyle,K.value,{resize:n.resize}]),P=f(()=>pt(n.modelValue)?"":String(n.modelValue)),U=f(()=>n.clearable&&!z.value&&!n.readonly&&!!P.value&&(D.value||q.value)),J=f(()=>n.showPassword&&!z.value&&!n.readonly&&!!P.value&&(!!P.value||D.value)),O=f(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!z.value&&!n.readonly&&!n.showPassword),Q=f(()=>P.value.length),Ue=f(()=>!!O.value&&Q.value>Number(n.maxlength)),je=f(()=>!!c.suffix||!!n.suffixIcon||U.value||n.showPassword||O.value||!!T.value&&ie.value),[We,_e]=jt(M);ft(S,t=>{if(Ye(),!O.value||n.resize!=="both")return;const p=t[0],{width:A}=p.contentRect;re.value={right:`calc(100% - ${A+15+6}px)`}});const V=()=>{const{type:t,autosize:p}=n;if(!(!Ne||t!=="textarea"||!S.value))if(p){const A=Ie(p)?p.minRows:void 0,ye=Ie(p)?p.maxRows:void 0,be=Ae(S.value,A,ye);K.value={overflowY:"hidden",...be},F(()=>{S.value.offsetHeight,K.value=be})}else K.value={minHeight:Ae(S.value).minHeight}},Ye=(t=>{let p=!1;return()=>{var A;if(p||!n.autosize)return;((A=S.value)==null?void 0:A.offsetParent)===null||(t(),p=!0)}})(V),B=()=>{const t=k.value,p=n.formatter?n.formatter(P.value):P.value;!t||t.value===p||(t.value=p)},Z=async t=>{We();let{value:p}=t.target;if(n.formatter&&(p=n.parser?n.parser(p):p),!de.value){if(p===P.value){B();return}a(ae,p),a("input",p),await F(),B(),_e()}},ce=t=>{a("change",t.target.value)},{isComposing:de,handleCompositionStart:pe,handleCompositionUpdate:fe,handleCompositionEnd:ve}=_t({emit:a,afterComposition:Z}),Xe=()=>{H.value=!H.value,me()},me=async()=>{var t;await F(),(t=k.value)==null||t.focus()},qe=()=>{var t;return(t=k.value)==null?void 0:t.blur()},Je=t=>{q.value=!1,a("mouseleave",t)},Qe=t=>{q.value=!0,a("mouseenter",t)},he=t=>{a("keydown",t)},Ze=()=>{var t;(t=k.value)==null||t.select()},ge=()=>{a(ae,""),a("change",""),a("clear"),a("input","")};return X(()=>n.modelValue,()=>{var t;F(()=>V()),n.validateEvent&&((t=v==null?void 0:v.validate)==null||t.call(v,"change").catch(p=>ze()))}),X(P,()=>B()),X(()=>n.type,async()=>{await F(),B(),V()}),vt(()=>{!n.formatter&&n.parser,B(),F(V)}),s({input:M,textarea:S,ref:k,textareaStyle:ue,autosize:mt(n,"autosize"),isComposing:de,focus:me,blur:qe,select:Ze,clear:ge,resizeTextarea:V}),(t,p)=>(m(),C("div",oe(o(d),{class:[o(r),{[o(l).bm("group","append")]:t.$slots.append,[o(l).bm("group","prepend")]:t.$slots.prepend}],style:o(De),role:t.containerRole,onMouseenter:Qe,onMouseleave:Je}),[h(" input "),t.type!=="textarea"?(m(),C(ne,{key:0},[h(" prepend slot "),t.$slots.prepend?(m(),C("div",{key:0,class:y(o(l).be("group","prepend"))},[j(t.$slots,"prepend")],2)):h("v-if",!0),N("div",{ref_key:"wrapperRef",ref:$e,class:y(o(u))},[h(" prefix slot "),t.$slots.prefix||t.prefixIcon?(m(),C("span",{key:0,class:y(o(l).e("prefix"))},[N("span",{class:y(o(l).e("prefix-inner"))},[j(t.$slots,"prefix"),t.prefixIcon?(m(),I(o(R),{key:0,class:y(o(l).e("icon"))},{default:L(()=>[(m(),I(W(t.prefixIcon)))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0),N("input",oe({id:o(g),ref_key:"input",ref:M,class:o(l).e("inner")},o(b),{minlength:t.minlength,maxlength:t.maxlength,type:t.showPassword?H.value?"text":"password":t.type,disabled:o(z),readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.ariaLabel,placeholder:t.placeholder,style:t.inputStyle,form:t.form,autofocus:t.autofocus,onCompositionstart:o(pe),onCompositionupdate:o(fe),onCompositionend:o(ve),onInput:Z,onChange:ce,onKeydown:he}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","onCompositionstart","onCompositionupdate","onCompositionend"]),h(" suffix slot "),o(je)?(m(),C("span",{key:1,class:y(o(l).e("suffix"))},[N("span",{class:y(o(l).e("suffix-inner"))},[!o(U)||!o(J)||!o(O)?(m(),C(ne,{key:0},[j(t.$slots,"suffix"),t.suffixIcon?(m(),I(o(R),{key:0,class:y(o(l).e("icon"))},{default:L(()=>[(m(),I(W(t.suffixIcon)))]),_:1},8,["class"])):h("v-if",!0)],64)):h("v-if",!0),o(U)?(m(),I(o(R),{key:1,class:y([o(l).e("icon"),o(l).e("clear")]),onMousedown:yt(o(bt),["prevent"]),onClick:ge},{default:L(()=>[ht(o(gt))]),_:1},8,["class","onMousedown"])):h("v-if",!0),o(J)?(m(),I(o(R),{key:2,class:y([o(l).e("icon"),o(l).e("password")]),onClick:Xe},{default:L(()=>[(m(),I(W(o(Ke))))]),_:1},8,["class"])):h("v-if",!0),o(O)?(m(),C("span",{key:3,class:y(o(l).e("count"))},[N("span",{class:y(o(l).e("count-inner"))},_(o(Q))+" / "+_(t.maxlength),3)],2)):h("v-if",!0),o(T)&&o(le)&&o(ie)?(m(),I(o(R),{key:4,class:y([o(l).e("icon"),o(l).e("validateIcon"),o(l).is("loading",o(T)==="validating")])},{default:L(()=>[(m(),I(W(o(le))))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0)],2),h(" append slot "),t.$slots.append?(m(),C("div",{key:1,class:y(o(l).be("group","append"))},[j(t.$slots,"append")],2)):h("v-if",!0)],64)):(m(),C(ne,{key:1},[h(" textarea "),N("textarea",oe({id:o(g),ref_key:"textarea",ref:S,class:[o(se).e("inner"),o(l).is("focus",o(D))]},o(b),{minlength:t.minlength,maxlength:t.maxlength,tabindex:t.tabindex,disabled:o(z),readonly:t.readonly,autocomplete:t.autocomplete,style:o(ue),"aria-label":t.ariaLabel,placeholder:t.placeholder,form:t.form,autofocus:t.autofocus,rows:t.rows,onCompositionstart:o(pe),onCompositionupdate:o(fe),onCompositionend:o(ve),onInput:Z,onFocus:o(Me),onBlur:o(He),onChange:ce,onKeydown:he}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),o(O)?(m(),C("span",{key:0,style:xt(re.value),class:y(o(l).e("count"))},_(o(Q))+" / "+_(t.maxlength),7)):h("v-if",!0)],64))],16,["role"]))}});var en=wt(Gt,[["__file","input.vue"]]);const fn=Ct(en);export{fn as E,Mt as a,dn as b,rn as c,sn as d,cn as e,un as f,Rt as g,Wt as h,pn as i,ln as k,_t as u};
